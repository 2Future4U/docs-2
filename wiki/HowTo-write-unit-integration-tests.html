<h2>
<a id="user-content-integration-test-example" class="anchor" href="#integration-test-example" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Integration test example</h2>

<div class="highlight highlight-source-cs"><pre>[Test]
<span class="pl-k">public</span> <span class="pl-k">void</span> Test_all_REST_methods()
{
    IRestClient client = <span class="pl-k">new</span> JsonServiceClient(<span class="pl-s"><span class="pl-pds">"</span>http://localhost:5000<span class="pl-pds">"</span></span>);
    List&lt;Customer&gt; allCustomers = client.Get(<span class="pl-k">new</span> AllCustomers());
    Assert.That(allCustomers.Count, Is.EqualTo(<span class="pl-c1">0</span>));

    <span class="pl-k">var</span> newCustomer = client.Post(
        <span class="pl-k">new</span> Customer { Name = <span class="pl-s"><span class="pl-pds">"</span>test<span class="pl-pds">"</span></span>, Age = <span class="pl-c1">1</span>, Email = <span class="pl-s"><span class="pl-pds">"</span>as@if.com<span class="pl-pds">"</span></span> });

    Assert.That(newCustomer.Id, Is.EqualTo(<span class="pl-c1">1</span>));
    Assert.That(newCustomer.Name, Is.EqualTo(<span class="pl-s"><span class="pl-pds">"</span>test<span class="pl-pds">"</span></span>));

    allCustomers = client.Get(<span class="pl-k">new</span> AllCustomers());
    Assert.That(allCustomers.Count, Is.EqualTo(<span class="pl-c1">1</span>));

    <span class="pl-k">var</span> singleCustomer = client.Get(<span class="pl-k">new</span> Customer { Id = <span class="pl-c1">1</span> });
    Assert.That(singleCustomer.Name, Is.EqualTo(<span class="pl-s"><span class="pl-pds">"</span>test<span class="pl-pds">"</span></span>));

    singleCustomer.Name = <span class="pl-s"><span class="pl-pds">"</span>Update Name<span class="pl-pds">"</span></span>;    

    client.Put(singleCustomer);
    singleCustomer = client.Get(<span class="pl-k">new</span> Customer { Id = <span class="pl-c1">1</span> });

    client.Delete(<span class="pl-k">new</span> Customer { Id = <span class="pl-c1">1</span> });

    allCustomers = client.Get(<span class="pl-k">new</span> AllCustomers());
    Assert.That(allCustomers.Count, Is.EqualTo(<span class="pl-c1">0</span>));
}</pre></div>
