<p>A good SEO technique for helping Search Engines index your website is to tell them where the can find all your content using <a href="https://support.google.com/webmasters/answer/156184?hl=en">Sitemaps</a>. Sitemaps are basic xml documents but they can be tedious to maintain manually, more so for database-driven dynamic websites. </p>

<p>The <code>SitemapFeature</code> reduces the effort required by letting you add Site Urls to a .NET collection of <code>SitemapUrl</code> POCO's. 
In its most basic usage you can populate a single Sitemap with urls of your Website Routes, e.g:</p>

<div class="highlight highlight-source-cs"><pre>Plugins.Add(<span class="pl-k">new</span> SitemapFeature
{
    UrlSet = db.Select&lt;TechnologyStack&gt;()
    .ConvertAll(x =&gt; <span class="pl-k">new</span> SitemapUrl {
        Location = <span class="pl-k">new</span> ClientTechnologyStack { Slug = x.Slug }.ToAbsoluteUri(),
        LastModified = x.LastModified,
        ChangeFrequency = SitemapFrequency.Weekly,
    })
});</pre></div>

<p>The above example uses <a href="https://github.com/ServiceStack/ServiceStack.OrmLite">OrmLite</a> to generate a collection of <code>SitemapUrl</code> entries containing Absolute Urls for all <a href="http://techstacks.io/tech">techstacks.io Technology Pages</a>. This is another good showcase for the <a href="https://github.com/ServiceStack/ServiceStack/wiki/Routing#reverse-routing">Reverse Routing available on Request DTO's</a> which provides a Typed API for generating Urls without any additional effort.</p>

<p>Once populated your sitemap will be available at <code>/sitemap.xml</code> which looks like:</p>

<div class="highlight highlight-text-xml"><pre>&lt;?<span class="pl-ent">xml</span><span class="pl-e"> version</span>=<span class="pl-s"><span class="pl-pds">"</span>1.0<span class="pl-pds">"</span></span><span class="pl-e"> encoding</span>=<span class="pl-s"><span class="pl-pds">"</span>UTF-8<span class="pl-pds">"</span></span>?&gt;
&lt;<span class="pl-ent">urlset</span> <span class="pl-e">xmlns</span>=<span class="pl-s"><span class="pl-pds">"</span>http://www.sitemaps.org/schemas/sitemap/0.9<span class="pl-pds">"</span></span>&gt;
&lt;<span class="pl-ent">url</span>&gt;
  &lt;<span class="pl-ent">loc</span>&gt;http://techstacks.io/the-guardian&lt;/<span class="pl-ent">loc</span>&gt;
  &lt;<span class="pl-ent">lastmod</span>&gt;2015-01-14&lt;/<span class="pl-ent">lastmod</span>&gt;
  &lt;<span class="pl-ent">changefreq</span>&gt;weekly&lt;/<span class="pl-ent">changefreq</span>&gt;
&lt;/<span class="pl-ent">url</span>&gt;
...
&lt;/<span class="pl-ent">urlset</span>&gt;</pre></div>

<p>Which you can checkout in this <a href="http://techstacks.io/sitemap-techstacks.xml">live Sitemap example</a>.</p>

<h3>
<a id="user-content-multiple-sitemap-indexes" class="anchor" href="#multiple-sitemap-indexes" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Multiple Sitemap Indexes</h3>

<p>For larger websites, Sitemaps also support multiple <a href="https://support.google.com/webmasters/answer/75712?hl=en">Sitemap indexes</a> which lets you split sitemap urls across multiple files. To take advantage of this in <code>SitemapFeature</code> you would instead populate the <code>SitemapIndex</code> collection with multiple <code>Sitemap</code> entries. An example of this is in the full <a href="https://github.com/ServiceStackApps/TechStacks/blob/a114348e905b4334e93a5408c2fb76c5fb589501/src/TechStacks/TechStacks/AppHost.cs#L90-L128">Sitemap used by techstacks.io</a>:</p>

<div class="highlight highlight-source-cs"><pre>Plugins.Add(<span class="pl-k">new</span> SitemapFeature {
SitemapIndex = {
    <span class="pl-k">new</span> Sitemap {
        AtPath = <span class="pl-s"><span class="pl-pds">"</span>/sitemap-techstacks.xml<span class="pl-pds">"</span></span>,
        LastModified = DateTime.UtcNow,
        UrlSet = db.Select&lt;TechnologyStack&gt;()
        .Map(x =&gt; <span class="pl-k">new</span> SitemapUrl {
            Location = <span class="pl-k">new</span> ClientTechnologyStack {Slug=x.Slug}.ToAbsoluteUri(),
            LastModified = x.LastModified,
            ChangeFrequency = SitemapFrequency.Weekly,
        }),
    },
    <span class="pl-k">new</span> Sitemap {
        AtPath = <span class="pl-s"><span class="pl-pds">"</span>/sitemap-technologies.xml<span class="pl-pds">"</span></span>,
        LastModified = DateTime.UtcNow,
        UrlSet = db.Select&lt;Technology&gt;()
        .Map(x =&gt; <span class="pl-k">new</span> SitemapUrl {
            Location = <span class="pl-k">new</span> ClientTechnology {Slug = x.Slug}.ToAbsoluteUri(),
            LastModified = x.LastModified,
            ChangeFrequency = SitemapFrequency.Weekly,
        })
    },
    <span class="pl-k">new</span> Sitemap
    {
        AtPath = <span class="pl-s"><span class="pl-pds">"</span>/sitemap-users.xml<span class="pl-pds">"</span></span>,
        LastModified = DateTime.UtcNow,
        UrlSet = db.Select&lt;CustomUserAuth&gt;()
        .Map(x =&gt; <span class="pl-k">new</span> SitemapUrl {
            Location = <span class="pl-k">new</span> ClientUser {UserName = x.UserName}.ToAbsoluteUri(),
            LastModified = x.ModifiedDate,
            ChangeFrequency = SitemapFrequency.Weekly,
        })
    }
}});</pre></div>

<p>Which now generates the following <code>&lt;sitemapindex/&gt;</code> at <a href="http://techstacks.io/sitemap.xml">/sitemap.xml</a>:</p>

<div class="highlight highlight-text-xml"><pre>&lt;?<span class="pl-ent">xml</span><span class="pl-e"> version</span>=<span class="pl-s"><span class="pl-pds">"</span>1.0<span class="pl-pds">"</span></span><span class="pl-e"> encoding</span>=<span class="pl-s"><span class="pl-pds">"</span>UTF-8<span class="pl-pds">"</span></span>?&gt;
&lt;<span class="pl-ent">sitemapindex</span> <span class="pl-e">xmlns</span>=<span class="pl-s"><span class="pl-pds">"</span>http://www.sitemaps.org/schemas/sitemap/0.9<span class="pl-pds">"</span></span>&gt;
&lt;<span class="pl-ent">sitemap</span>&gt;
  &lt;<span class="pl-ent">loc</span>&gt;http://techstacks.io/sitemap-techstacks.xml&lt;/<span class="pl-ent">loc</span>&gt;
  &lt;<span class="pl-ent">lastmod</span>&gt;2015-01-15&lt;/<span class="pl-ent">lastmod</span>&gt;
&lt;/<span class="pl-ent">sitemap</span>&gt;
&lt;<span class="pl-ent">sitemap</span>&gt;
  &lt;<span class="pl-ent">loc</span>&gt;http://techstacks.io/sitemap-technologies.xml&lt;/<span class="pl-ent">loc</span>&gt;
  &lt;<span class="pl-ent">lastmod</span>&gt;2015-01-15&lt;/<span class="pl-ent">lastmod</span>&gt;
&lt;/<span class="pl-ent">sitemap</span>&gt;
&lt;<span class="pl-ent">sitemap</span>&gt;
  &lt;<span class="pl-ent">loc</span>&gt;http://techstacks.io/sitemap-users.xml&lt;/<span class="pl-ent">loc</span>&gt;
  &lt;<span class="pl-ent">lastmod</span>&gt;2015-01-15&lt;/<span class="pl-ent">lastmod</span>&gt;
&lt;/<span class="pl-ent">sitemap</span>&gt;
&lt;/<span class="pl-ent">sitemapindex</span>&gt;</pre></div>

<p>With each entry linking to the urlset for each Sitemap:</p>

<ul>
<li><a href="http://techstacks.io/sitemap-techstacks.xml">techstacks.io/sitemap-techstacks.xml</a></li>
<li><a href="http://techstacks.io/sitemap-technologies.xml">techstacks.io/sitemap-technologies.xml</a></li>
<li><a href="http://techstacks.io/sitemap-users.xml">techstacks.io/sitemap-users.xml</a></li>
</ul>
