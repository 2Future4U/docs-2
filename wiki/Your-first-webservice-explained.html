<p>Let's look a bit deeper into the Hello World service you created:</p>

<p>As you have seen, the convention for response DTO is <code>RequestDTO</code> and  <code>RequestDTOResponse</code>. <strong>Note, request and response DTO should be in the same namespace if you want ServiceStack to recognize the DTO pair</strong>.</p>

<p>To support automatic exception handling, you also need to add a <code>ResponseStatus</code> property to the response DTO:</p>

<div class="highlight highlight-source-cs"><pre><span class="pl-c">//Request DTO</span>
<span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-en">Hello</span>
{
    <span class="pl-k">public</span> <span class="pl-k">string</span> <span class="pl-en">Name</span> { <span class="pl-k">get</span>; <span class="pl-k">set</span>; }
}

<span class="pl-c">//Response DTO</span>
<span class="pl-c">//Follows naming convention</span>
<span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-en">HelloResponse</span>
{
    <span class="pl-k">public</span> ResponseStatus <span class="pl-en">ResponseStatus</span> { <span class="pl-k">get</span>; <span class="pl-k">set</span>; } <span class="pl-c">//Automatic exception handling</span>

    <span class="pl-k">public</span> <span class="pl-k">string</span> <span class="pl-en">Result</span> { <span class="pl-k">get</span>; <span class="pl-k">set</span>; }
}</pre></div>

<p>A service class is marked as such by its inheritance of the empty <code>IService</code> interface. You will generally want to do so by having such a class inherit from the more convenient <code>Service</code> base class which provides easy access to the most common functionality. </p>

<div class="highlight highlight-source-cs"><pre><span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-en">HelloService</span> : <span class="pl-k">Service</span>
{
    <span class="pl-k">public</span> <span class="pl-k">object</span> <span class="pl-en">Any</span>(<span class="pl-k">Hello</span> <span class="pl-smi">request</span>)
    {
        <span class="pl-k">return</span> <span class="pl-k">new</span> HelloResponse { Result = <span class="pl-s"><span class="pl-pds">"</span>Hello, <span class="pl-pds">"</span></span> + request.Name };
    }
}</pre></div>

<p>The above service can be called with <strong>Any</strong> HTTP Verb (e.g. GET, POST,..) and from any endpoint or format (e.g. JSON, XML, etc). You can also choose to handle a specific Verb by changing the method name to suit, e.g. here's how to change it so you only handle HTTP <strong>GET</strong> requests:</p>

<div class="highlight highlight-source-cs"><pre><span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-en">HelloService</span> : <span class="pl-k">Service</span>
{
    <span class="pl-k">public</span> <span class="pl-k">object</span> <span class="pl-en">Get</span>(<span class="pl-k">Hello</span>  <span class="pl-smi">request</span>)
    {
        <span class="pl-k">return</span> <span class="pl-k">new</span> HelloResponse { Result = <span class="pl-s"><span class="pl-pds">"</span>Hello, <span class="pl-pds">"</span></span> + request.Name };
    }
}</pre></div>

<hr>

<p>To register your custom REST URLs, you can use the <code>Route</code> attribute on the request DTO:</p>

<div class="highlight highlight-source-cs"><pre><span class="pl-c">//Request DTO</span>
[Route(<span class="pl-s"><span class="pl-pds">"</span>/hello<span class="pl-pds">"</span></span>)]
[Route(<span class="pl-s"><span class="pl-pds">"</span>/hello/{Name}<span class="pl-pds">"</span></span>)]
<span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-en">Hello</span>
{
    <span class="pl-k">public</span> <span class="pl-k">string</span> <span class="pl-en">Name</span> { <span class="pl-k">get</span>; <span class="pl-k">set</span>; }
}</pre></div>

<h2>
<a id="user-content-calling-your-web-service" class="anchor" href="#calling-your-web-service" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Calling your web service</h2>

<p>The above service can now be called with:</p>

<div class="highlight highlight-source-cs"><pre><span class="pl-k">var</span> client = <span class="pl-k">new</span> JsonServiceClient(BaseUri);
HelloResponse response = client.Get&lt;HelloResponse&gt;(<span class="pl-s"><span class="pl-pds">"</span>/hello/World!<span class="pl-pds">"</span></span>); </pre></div>

<p>You can also make it even easier for your C# clients if you also provide the expected return type. E.g. if you add the <code>IReturn&lt;T&gt;</code> interface marker to your Request DTO like:</p>

<div class="highlight highlight-source-cs"><pre><span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-en">Hello</span> : <span class="pl-k">IReturn</span>&lt;<span class="pl-k">HelloResponse</span>&gt;
{
    <span class="pl-k">public</span> <span class="pl-k">string</span> <span class="pl-en">Name</span> { <span class="pl-k">get</span>; <span class="pl-k">set</span>; }
}</pre></div>

<p>Your clients will now also be able to make the same call above but with a fully-typed C# API, i.e:</p>

<div class="highlight highlight-source-cs"><pre>HelloResponse response = client.Get(<span class="pl-k">new</span> Hello { Name = <span class="pl-s"><span class="pl-pds">"</span>World!<span class="pl-pds">"</span></span> });</pre></div>

<p>We highly recommend annotating your Request DTO's with the above <code>IReturn&lt;T&gt;</code> marker as it enables a generic typed API without clients having to know and specify the Response at each call-site, which would be invalidated and need to be manually updated if the Service Response Type changes.</p>

<p>More details on the Service Clients is available on the <a href="https://github.com/ServiceStack/ServiceStack/wiki/C%23-client">C#/.NET Service Clients page</a>.</p>

<h3>
<a id="user-content-routing-tips" class="anchor" href="#routing-tips" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Routing Tips</h3>

<div class="highlight highlight-source-cs"><pre>[Route(<span class="pl-s"><span class="pl-pds">"</span>/hello/{Name}<span class="pl-pds">"</span></span>)]</pre></div>

<p>only matches:</p>

<pre><code>/hello/name
</code></pre>

<p>whereas:</p>

<div class="highlight highlight-source-cs"><pre>[Route(<span class="pl-s"><span class="pl-pds">"</span>/hello/{Name*}<span class="pl-pds">"</span></span>)]</pre></div>

<p>matches:</p>

<pre><code>/hello
/hello/name
/hello/my/name/is/ServiceStack 
</code></pre>

<p>More details about Routing is available on the <a href="https://github.com/ServiceStack/ServiceStack/wiki/Routing">Routing page</a>.</p>

<p>Next wikipage: [[The IoC container]]</p>
