<p>ServiceStack is fortunate to have a vibrant community which quickly saw the capabilities on offer in [[Service Gateway]] whom have jumped in with a number of high-quality, well-documented and supported value-added OSS solutions:</p>

<h3>
<a id="user-content-servicestackdiscoveryconsul" class="anchor" href="#servicestackdiscoveryconsul" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><a href="https://github.com/MacLeanElectrical/servicestack-discovery-consul">ServiceStack.Discovery.Consul</a>
</h3>

<p>The <a href="https://github.com/MacLeanElectrical/servicestack-discovery-consul">ConsulFeature</a> plugin 
by <a href="https://github.com/wwwlicious">Scott Mackay</a> leverages the hardened distributed Discovery Services and 
highly available features in <a href="https://www.consul.io/">consul.io</a> to provide automatic registration and 
de-registration of ServiceStack Services on AppHost <strong>StartUp</strong> and <strong>Dispose</strong> that's available from:</p>

<pre><code>PM&gt; Install-Package ServiceStack.Discovery.Consul
</code></pre>

<p>Without any additional effort beyond registering the <code>ConsulFeature</code> plugin and starting a new ServiceStack 
Instance it provides an auto-updating, self-maintaining and periodically checked registry of available Services:</p>

<div class="highlight highlight-source-cs"><pre><span class="pl-k">public</span> <span class="pl-k">override</span> <span class="pl-k">void</span> Configure(Container container)
{
    SetConfig(<span class="pl-k">new</span> HostConfig {
        WebHostUrl = <span class="pl-s"><span class="pl-pds">"</span>http://api.acme.com:1234<span class="pl-pds">"</span></span>, <span class="pl-c">// Externally resolvable BaseUrl</span>
    });

    Plugins.Add(<span class="pl-k">new</span> ConsulFeature()); <span class="pl-c">// Register the plugin, that's it!</span>
}</pre></div>

<p><a href="https://raw.githubusercontent.com/ServiceStack/Assets/master/img/release-notes/ServiceRegistration.png" target="_blank"><img src="https://raw.githubusercontent.com/ServiceStack/Assets/master/img/release-notes/ServiceRegistration.png" alt="" style="max-width:100%;"></a></p>

<p>Once registered, the Service Gateway works as you'd expect where internal requests are executed in process
and external requests queries the Consul registry to discover the appropriate and available Service to call:</p>

<div class="highlight highlight-source-cs"><pre><span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-en">MyService</span> : <span class="pl-k">Service</span>
{
    <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">Any</span>(<span class="pl-k">RequestDTO</span> <span class="pl-smi">dto</span>)
    {
        <span class="pl-c">// Gateway will automatically route external requests to correct service</span>
        <span class="pl-k">var</span> internalCall = Gateway.Send(<span class="pl-k">new</span> InternalDTO { ... });
        <span class="pl-k">var</span> externalCall = Gateway.Send(<span class="pl-k">new</span> ExternalDTO { ... });
    }
}</pre></div>

<p><a href="https://raw.githubusercontent.com/MacLeanElectrical/servicestack-discovery-consul/master/assets/RequestDTOServiceDiscovery.png" target="_blank"><img src="https://raw.githubusercontent.com/MacLeanElectrical/servicestack-discovery-consul/master/assets/RequestDTOServiceDiscovery.png" alt="RequestDTO Service Discovery" style="max-width:100%;"></a></p>

<h3>
<a id="user-content-servicestackdiscoveryredis" class="anchor" href="#servicestackdiscoveryredis" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><a href="https://github.com/rsafier/ServiceStack.Discovery.Redis">ServiceStack.Discovery.Redis</a>
</h3>

<p>The <a href="https://github.com/rsafier/ServiceStack.Discovery.Redis">RedisServiceDiscoveryFeature</a> by
<a href="https://github.com/rsafier">Richard Safier</a> has similar goals to provide transparent service discovery 
but only requires access to Redis-backed datastore, but is otherwise just as easy to install:</p>

<pre><code>PM&gt; Install-Package ServiceStack.Discovery.Redis
</code></pre>

<p>and Configure:</p>

<div class="highlight highlight-source-cs"><pre><span class="pl-k">public</span> <span class="pl-k">override</span> <span class="pl-k">void</span> Configure(Container container)
{
    container.Register&lt;IRedisClientsManager&gt;(c =&gt; <span class="pl-k">new</span> RedisManagerPool(...));

    SetConfig(<span class="pl-k">new</span> HostConfig {
        WebHostUrl = <span class="pl-s"><span class="pl-pds">"</span>http://api.acme.com:1234<span class="pl-pds">"</span></span>
    });

    Plugins.Add(<span class="pl-k">new</span> RedisServiceDiscoveryFeature());
}</pre></div>

<p>Once registered, calling the same Gateway API's function the same way with internal requests executed
internally and external requests sent to the appropriate available node:</p>

<div class="highlight highlight-source-cs"><pre><span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-en">MyService</span> : <span class="pl-k">Service</span>
{
    <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">Any</span>(<span class="pl-k">RequestDTO</span> <span class="pl-smi">dto</span>)
    {
        <span class="pl-k">var</span> internalCall = Gateway.Send(<span class="pl-k">new</span> InternalDTO { ... });
        <span class="pl-k">var</span> externalCall = Gateway.Send(<span class="pl-k">new</span> ExternalDTO { ... });

        <span class="pl-k">try</span> 
        {
            <span class="pl-k">var</span> unknown = Gateway.Send(<span class="pl-k">new</span> ExternalDTOWithNoActiveNodesOnline());
        }
        <span class="pl-k">catch</span>(RedisServiceDiscoveryGatewayException e) 
        {
           <span class="pl-c">// If a DTO type is not local or resolvable by Redis discovery process </span>
           <span class="pl-c">// a RedisServiceDiscoveryGatewayException will be thrown</span>
        }
    }
}</pre></div>

<p>Since all Redis Discovery data is stored in a redis instance the state of all available nodes can be viewed 
with any Redis GUI:</p>

<p><a href="https://raw.githubusercontent.com/ServiceStack/Assets/master/img/release-notes/RedisDiscoveryScreenshot.png" target="_blank"><img src="https://raw.githubusercontent.com/ServiceStack/Assets/master/img/release-notes/RedisDiscoveryScreenshot.png" alt="" style="max-width:100%;"></a></p>

<h4>
<a id="user-content-servicestacksimplecloudcontrol" class="anchor" href="#servicestacksimplecloudcontrol" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><a href="https://github.com/rsafier/ServiceStack.SimpleCloudControl">ServiceStack.SimpleCloudControl</a>
</h4>

<p>In addition to this Redis Discovery Service Richard is also developing a series of ServiceStack plugins 
that enhances the functionality of ServiceStack.Discovery.Redis and provides cluster awareness to 
additional aspects of a ServiceStack AppHost's internal state.</p>
