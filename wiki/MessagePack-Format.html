<p><a href="http://msgpack.org/">Message Pack</a> is an efficient binary serialization format. It lets you exchange data among multiple languages like JSON but it's faster and smaller. </p>

<p>If you ever wished to use JSON for convenience (e.g. storing an image with metadata) but could not for technical reasons (encoding, size, speed...), MessagePack offers a great replacement. Despite the name it ends up being a much <a href="http://stackoverflow.com/questions/6355497/performant-entity-serialization-bson-vs-messagepack-vs-json">better "Binary JSON" than BSON is</a>, as it's much faster, smaller and doesn't require the foreign types like "ObjectId", "UUID" that BSON has.</p>

<p>MsgPack is a great addition to your ServiceStack's web services as it has <a href="http://theburningmonk.com/2012/02/performance-test-binary-serializers-part-iii/">similar performance to Protocol Buffers</a> (.NET's fastest binary serializer) but is also schema-less like JSON so already works with your Un-Attributed, <strong>Clean POCOs</strong> - no code-changes required. (as opposed to [[Protobuf format]] which requires decorating every serializable property with <code>[DataMember(Order=N)]</code>).</p>

<h2>
<a id="user-content-installing-via-nuget" class="anchor" href="#installing-via-nuget" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Installing via NuGet</h2>

<p>Message Pack is easily installed with the <a href="https://nuget.org/packages/ServiceStack.MsgPack">ServiceStack.MsgPack</a> NuGet package:</p>

<h3>
<a id="user-content-install-package-servicestackmsgpack" class="anchor" href="#install-package-servicestackmsgpack" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Install-Package <a href="https://nuget.org/packages/ServiceStack.MsgPack">ServiceStack.MsgPack</a>
</h3>

<p>After the NuGet Package is added to your Project, enable the MsgPack format with:</p>

<pre><code>Plugins.Add(new MsgPackFormat());
</code></pre>

<p>The NuGet plugin also includes the <strong>MsgPackServiceClient</strong> client below so you can easily call it from any C# Client.</p>

<h2>
<a id="user-content-client-usage" class="anchor" href="#client-usage" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Client Usage</h2>

<p>Just like the rest of ServiceStack C# Clients, MsgPackServiceClient is interchangeable with the other clients that equally supports all your ServiceStack's services including the <a href="https://github.com/ServiceStack/ServiceStack/wiki/New-Api">New API Design</a>, e.g:</p>

<div class="highlight highlight-source-cs"><pre><span class="pl-k">var</span> client = <span class="pl-k">new</span> MsgPackServiceClient(BaseUri);
List&lt;Todo&gt; all = client.Get(<span class="pl-k">new</span> Todos());           <span class="pl-c">// Count = 0</span>

<span class="pl-k">var</span> todo = client.Post(
    <span class="pl-k">new</span> Todo { Content = <span class="pl-s"><span class="pl-pds">"</span>New TODO<span class="pl-pds">"</span></span>, Order = <span class="pl-c1">1</span> });  <span class="pl-c">// todo.Id = 1</span>
all = client.Get(<span class="pl-k">new</span> Todos());                      <span class="pl-c">// Count = 1</span>

todo.Content = <span class="pl-s"><span class="pl-pds">"</span>Updated TODO<span class="pl-pds">"</span></span>;
todo = client.Put(todo);                            <span class="pl-c">// todo.Content = Updated TODO</span>

client.Delete(<span class="pl-k">new</span> Todos(todo.Id));
all = client.Get(<span class="pl-k">new</span> Todos());   </pre></div>

<p>More examples of using MsgPackServiceClient can be found in the <a href="https://github.com/ServiceStack/ServiceStack/blob/master/tests/RazorRockstars.Console.Files/ReqStarsService.cs">New APIs Integration Test Suite</a>.</p>
