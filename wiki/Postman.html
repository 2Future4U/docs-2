<p>The <a href="http://www.getpostman.com/">Postman Rest Client</a> is a very popular and easy to use HTTP Request composer that makes it easy to call web services, similar to <a href="https://www.blackbaud.com/files/support/guides/infinitydevguide/Subsystems/inwebapi-developer-help/Content/InfinityWebAPI/coUsingFiddlerCreateHTTPRequest.htm">Fiddler's Composer</a>. It also provides as an alternative for autogenerating API documentation to <a href="https://github.com/ServiceStack/ServiceStack/wiki/Swagger-API">ServiceStack's Swagger support</a> that makes it easier to call existing services but does require users to install the <a href="http://www.getpostman.com/">Postman Rest Client</a>.</p>

<p>Support for Postman is built into ServiceStack and can be enabled by registering the Plugins below:</p>

<div class="highlight highlight-source-cs"><pre>Plugins.Add(<span class="pl-k">new</span> PostmanFeature());
Plugins.Add(<span class="pl-k">new</span> CorsFeature());</pre></div>

<blockquote>
<p>Note: As Postman makes cross-site requests, is also requires CORS support. </p>
</blockquote>

<p>Once enabled, a link with appear in your metadata page:</p>

<p><a href="https://raw.githubusercontent.com/ServiceStack/Assets/master/img/release-notes/postman-metadata.png" target="_blank"><img src="https://raw.githubusercontent.com/ServiceStack/Assets/master/img/release-notes/postman-metadata.png" alt="Postman Metadata link" style="max-width:100%;"></a></p>

<h3>
<a id="user-content-importing-the-postman-collection" class="anchor" href="#importing-the-postman-collection" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Importing the Postman Collection</h3>

<p>By default the link to the Postman JSON metadata collection is at <code>/postman</code>, this url can be imported into postman by clicking on <strong>import collections</strong>:</p>

<p><a href="https://raw.githubusercontent.com/ServiceStack/Assets/master/img/wikis/postman-import-link.png" target="_blank"><img src="https://raw.githubusercontent.com/ServiceStack/Assets/master/img/wikis/postman-import-link.png" alt="Postman Import Icon" style="max-width:100%;"></a></p>

<p>This will open up the import dialog, where you can paste the metadata url and click <strong>Import</strong>:</p>

<p><a href="https://raw.githubusercontent.com/ServiceStack/Assets/master/img/wikis/postman-import.png" target="_blank"><img src="https://raw.githubusercontent.com/ServiceStack/Assets/master/img/wikis/postman-import.png" alt="Postman Import Dialog" style="max-width:100%;"></a></p>

<h3>
<a id="user-content-available-routes" class="anchor" href="#available-routes" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Available Routes</h3>

<p>Once imported it will populate a list of available operations that can be selected and easily called from within the Postman UI. Just like the <a href="https://github.com/ServiceStack/ServiceStack/wiki/Swagger-API">Swagger Support</a> the list of operations returned respects the <a href="https://github.com/ServiceStack/ServiceStack/wiki/Restricting-Services">Restriction Attributes</a> and only shows the operations each user is allowed to see. The operations returned also favour custom user-defined routes, when none exists it will fallback to use the <a href="https://github.com/ServiceStack/ServiceStack/wiki/Routing#pre-defined-routes">pre-defined routes</a>.</p>

<h3>
<a id="user-content-label-customization" class="anchor" href="#label-customization" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Label Customization</h3>

<p>The label for each operation can be further customized using the <code>?label</code> query string param whose preferred style which can vary depending on the granularity and naming of your Request DTO's, and whether they have custom routes defined on them. </p>

<p><a href="https://raw.githubusercontent.com/ServiceStack/Assets/master/img/wikis/postman-labels.png" target="_blank"><img src="https://raw.githubusercontent.com/ServiceStack/Assets/master/img/wikis/postman-labels.png" alt="Postman Label Styles" style="max-width:100%;"></a></p>

<p>The screenshot above shows an example of importing the same service with the different label styles below: </p>

<ul>
<li><a href="https://benchmarks.servicestack.net/postman?label=route">/postman?label=route</a></li>
<li><a href="https://benchmarks.servicestack.net/postman?label=type">/postman?label=type</a></li>
</ul>

<p>The <code>label</code> param accepts a collection of string tokens that controls how the label is formatted.The <code>type</code> and <code>route</code> are special tokens that get replaced by the <strong>Request DTO name</strong> and <strong>Route</strong> respectively. Everything else are just added string literals including the <code>+</code> character which is just a url-encoded version of the <code></code> space character.</p>

<p>Here are some examples using the example definition below:</p>

<div class="highlight highlight-source-cs"><pre>[Route(<span class="pl-s"><span class="pl-pds">"</span>/contacts/{Id}<span class="pl-pds">"</span></span>)]
<span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-en">GetContact</span> { ... }</pre></div>

<table>
<tr>
    <td><b>/postman?label=type</b></td>
    <td>GetContact</td>
</tr>
<tr>
    <td><b>/postman?label=route</b></td>
    <td>/contacts/{Id}</td>
</tr>
<tr>
    <td><b>/postman?label=type:english</b></td>
    <td>Get contact</td>
</tr>
<tr>
    <td><b>/postman?label=type:english,+(,route,)</b></td>
    <td>Get contact (/contacts/{Id})</td>
</tr>
</table>

<h4>
<a id="user-content-specifying-the-default-label-format" class="anchor" href="#specifying-the-default-label-format" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Specifying the Default Label Format</h4>

<p>The default label format can also be configured when registering the Postman plugin, e.g:</p>

<div class="highlight highlight-source-cs"><pre>Plugins.Add(<span class="pl-k">new</span> PostmanFeature { 
    DefaultLabelFmt = <span class="pl-k">new</span> List&lt;<span class="pl-k">string</span>&gt; { <span class="pl-s"><span class="pl-pds">"</span>type:english<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span> <span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>route<span class="pl-pds">"</span></span> }
});</pre></div>

<h2>
<a id="user-content-calling-services" class="anchor" href="#calling-services" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Calling Services</h2>

<p>Calling Services is as easy as selecting the service you want to call, filling in the parameters you want to call it with then clicking <strong>Send</strong>. At a mimimum you want to specify values for all the path variables in the <code>/pathInfo</code> which are prefixed with a colon followed by its name, e.g: <code>:VariableName</code></p>

<p><a href="https://raw.githubusercontent.com/ServiceStack/Assets/master/img/wikis/postman-call-searchtestresults.png" target="_blank"><img src="https://raw.githubusercontent.com/ServiceStack/Assets/master/img/wikis/postman-call-searchtestresults.png" alt="Call Service in Postman" style="max-width:100%;"></a></p>

<p>The Path Info variables appear first in the list of available <strong>URL params</strong> for each service, as seen with <strong>TestPlanId</strong> above. By default each variable is seeded with its type. Any variables defined on the /pathinfo are sent on the pathinfo whilst other variables in a <code>GET</code> request are sent on the Query String. <code>POST</code> requests also allow sending parameters as <strong>form-data</strong>.</p>

<h3>
<a id="user-content-support-for-authenticated-requests" class="anchor" href="#support-for-authenticated-requests" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Support for authenticated requests</h3>

<p>Calling authentication-only services can be done with the <code>/postman?exportSession=true</code> parameter which will redirect to a url that captures your session cookies into a deep-linkable url like <code>/postman?ssopt=temp&amp;ssid={key}&amp;sspid={key}</code> that can be copied into Postman.</p>

<p>This lets you replace your session cookies with the session ids on the url, effectively allowing you to take over someone elses session, in this case telling Postman to make requests on your behalf using your authenticated session cookies. </p>

<p>As this functionality is potentially dangerous it's only enabled by default in <strong>DebugMode</strong> but can be overridden with:</p>

<div class="highlight highlight-source-cs"><pre>Plugins.Add(<span class="pl-k">new</span> PostmanFeature { 
    EnableSessionExport = <span class="pl-c1">true</span>
});</pre></div>

<h2>
<a id="user-content-other-postmanfeature-options" class="anchor" href="#other-postmanfeature-options" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Other PostmanFeature options</h2>

<p>Like other <a href="https://github.com/ServiceStack/ServiceStack/wiki/Plugins">ServiceStack plugins</a> the available options for each Feature can be configured on the Plugin itself at registration:</p>

<h4>
<a id="user-content-registering-at-a-custom-path" class="anchor" href="#registering-at-a-custom-path" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Registering at a custom path</h4>

<p>Use <code>AtRestPath</code> to host the postman metadata route on an alternate:</p>

<div class="highlight highlight-source-cs"><pre>Plugins.Add(<span class="pl-k">new</span> PostmanFeature { 
    AtRestPath = <span class="pl-s"><span class="pl-pds">"</span>/alt-postman-link<span class="pl-pds">"</span></span>  <span class="pl-c">//default /postman</span>
});</pre></div>

<h4>
<a id="user-content-sending-custom-http-headers" class="anchor" href="#sending-custom-http-headers" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Sending Custom HTTP Headers</h4>

<p>Use <code>Headers</code> to get Postman to send custom HTTP Headers on each request, e.g:</p>

<div class="highlight highlight-source-cs"><pre>Plugins.Add(<span class="pl-k">new</span> PostmanFeature { 
    Headers = <span class="pl-s"><span class="pl-pds">"</span>Accept: application/json<span class="pl-cce">\n</span>X-Custom-Header: Value<span class="pl-pds">"</span></span>,
});</pre></div>

<p>The default is <code>Accept: application/json</code> to ensure each request returns its response as JSON. Multiple headers can be separated with the <code>\n</code> new-line character.</p>

<h4>
<a id="user-content-friendly-type-aliases" class="anchor" href="#friendly-type-aliases" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Friendly Type Aliases</h4>

<p>The names of the type for Request DTO Property Types displayed can also be customized by adding them to the <code>FriendlyTypeNames</code> Dictionary. E.g. we can show <code>DateTime</code> types as <code>Date</code> in Postmans UI with:</p>

<div class="highlight highlight-source-cs"><pre>Plugins.Add(<span class="pl-k">new</span> PostmanFeature { 
    FriendlyTypeNames = { {<span class="pl-s"><span class="pl-pds">"</span>DateTime<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Date<span class="pl-pds">"</span></span>} },
});</pre></div>
