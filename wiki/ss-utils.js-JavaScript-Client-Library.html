<p>An Embedded Resource inside <strong>ServiceStack.dll</strong> is ServiceStack's JavaScript utility library that provides a number of convenience utilities in developing javascript web apps. It enables nicer integration with ServiceStack's Server features including [[Validation]], [[Error Handling]] and <a href="https://github.com/ServiceStackApps/Chat#server-sent-events">Server Events</a> which can be included in any page with:</p>

<div class="highlight highlight-text-html-basic"><pre>&lt;<span class="pl-ent">script</span> <span class="pl-e">type</span>=<span class="pl-s"><span class="pl-pds">"</span>text/javascript<span class="pl-pds">"</span></span> <span class="pl-e">src</span>=<span class="pl-s"><span class="pl-pds">"</span>/js/ss-utils.js<span class="pl-pds">"</span></span>&gt;&lt;/<span class="pl-ent">script</span>&gt;</pre></div>

<h3>
<a id="user-content-definitelytyped-and-npm" class="anchor" href="#definitelytyped-and-npm" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>DefinitelyTyped and npm</h3>

<p>To make it easier to develop with <strong>ss-utils</strong> in any of the npm-based Single Page Apps templates we're also
maintaining a copy of <a href="https://www.npmjs.com/package/ss-utils">ss-utils in npm</a> and have also added it to JSPM 
and DefinitelyTyped registry so you can now add it to your project like any other external dependency using JSPM:</p>

<pre><code>C:\&gt; jspm install ss-utils
</code></pre>

<p>If you're using TypeScript, you can also download the accompanying TypeScript definition from:</p>

<pre><code>C:\&gt;typings install ss-utils --ambient --save
</code></pre>

<p>Or if you're using the older tsd package manager: <code>tsd install ss-utils --save</code>.</p>

<h2>
<a id="user-content-usage" class="anchor" href="#usage" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Usage</h2>

<p>To showcase how it simplifies general web development, we'll walkthrough the JavaScript needed to provide all the behavior for the <a href="https://github.com/ServiceStack/EmailContacts/blob/master/src/EmailContacts/default.cshtml">entire UI of Email Contacts</a> that uses just jQuery and bootstrap.js:</p>

<h2>
<a id="user-content-bootstrap-forms" class="anchor" href="#bootstrap-forms" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Bootstrap Forms</h2>

<p>ss-utils.js validation and error handling support works with Bootstrap's standard HTML Form markup, e.g:</p>

<div class="highlight highlight-text-html-basic"><pre>&lt;<span class="pl-ent">form</span> <span class="pl-e">id</span>=<span class="pl-s"><span class="pl-pds">"</span>form-addcontact<span class="pl-pds">"</span></span> <span class="pl-e">action</span>=<span class="pl-s"><span class="pl-pds">"</span>@(new CreateContact().ToPostUrl())<span class="pl-pds">"</span></span> <span class="pl-e">method</span>=<span class="pl-s"><span class="pl-pds">"</span>POST<span class="pl-pds">"</span></span>&gt;
    &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>col-sm-3 form-group<span class="pl-pds">"</span></span>&gt;
        &lt;<span class="pl-ent">label</span> <span class="pl-e">for</span>=<span class="pl-s"><span class="pl-pds">"</span>Name<span class="pl-pds">"</span></span>&gt;Name&lt;/<span class="pl-ent">label</span>&gt;
        &lt;<span class="pl-ent">input</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>form-control input-sm<span class="pl-pds">"</span></span> <span class="pl-e">type</span>=<span class="pl-s"><span class="pl-pds">"</span>text<span class="pl-pds">"</span></span> <span class="pl-e">id</span>=<span class="pl-s"><span class="pl-pds">"</span>Name<span class="pl-pds">"</span></span> <span class="pl-e">name</span>=<span class="pl-s"><span class="pl-pds">"</span>Name<span class="pl-pds">"</span></span> <span class="pl-e">value</span>=<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>&gt;
        &lt;<span class="pl-ent">span</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>help-block<span class="pl-pds">"</span></span>&gt;&lt;/<span class="pl-ent">span</span>&gt;
    &lt;/<span class="pl-ent">div</span>&gt;
    ...
&lt;/<span class="pl-ent">form</span>&gt;</pre></div>

<p>The first thing to notice is the <strong>action</strong> url is created with a typed API populated using the <a href="https://github.com/ServiceStack/ServiceStack/wiki/Routing#reverse-routing">Reverse Routing</a> <code>ToPostUrl()</code> extension method that looks at <code>CreateContact</code> Request DTO to return the best matching route based on the Route definitions and the fields populated in the Request DTO instance, in this case the empty Request DTO matches <code>[Route("/contacts", "POST")]</code> so returns <code>/contacts</code>.</p>

<p>Other significant parts in this HTML Form is that the <strong>INPUT</strong> field names match up with the Request DTO it posts to and that it includes Bootstraps <strong>class="help-block"</strong> placeholders adjacent to each INPUT element which is what <strong>ss-utils.js</strong> uses to bind the field validation errors.</p>

<h2>
<a id="user-content-binding-html-forms" class="anchor" href="#binding-html-forms" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Binding HTML Forms</h2>

<p>You can ajaxify a HTML FORM by using ss-utils <code>bindForm</code> jQuery mixin, e.g:</p>

<div class="highlight highlight-source-js"><pre><span class="pl-en">$</span>(<span class="pl-s"><span class="pl-pds">"</span>#form-addcontact<span class="pl-pds">"</span></span>).<span class="pl-en">bindForm</span>({
    <span class="pl-en">success</span><span class="pl-k">:</span> <span class="pl-k">function</span> (<span class="pl-smi">contact</span>) {
        <span class="pl-en">addContacts</span>([contact]);
        <span class="pl-en">$</span>(<span class="pl-s"><span class="pl-pds">"</span>#form-addcontact input<span class="pl-pds">"</span></span>).<span class="pl-en">val</span>(<span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>)
            .<span class="pl-en">first</span>().<span class="pl-c1">focus</span>();
    }
});</pre></div>

<p>This takes over the handling of this FORM and instead of doing a POST back of the entire page to the server, makes an Ajax request using all the fields in the FORM to POST the data to the <strong>CreateContact</strong> Service:</p>

<div class="highlight highlight-source-cs"><pre><span class="pl-k">public</span> Contact Post(CreateContact request)
{
    <span class="pl-k">var</span> contact = request.ConvertTo&lt;Contact&gt;();
    Db.Save(contact);
    <span class="pl-k">return</span> contact;
}</pre></div>

<h2>
<a id="user-content-fluent-validation" class="anchor" href="#fluent-validation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Fluent Validation</h2>

<p>Normally the Service implementation will be called as-is but as we've added the FluentValidation <code>ValidationFeature</code> plugin and there exists a validator for <code>CreateContact</code> below:</p>

<div class="highlight highlight-source-cs"><pre><span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-en">ContactsValidator</span> : <span class="pl-k">AbstractValidator</span>&lt;<span class="pl-k">CreateContact</span>&gt;
{
    <span class="pl-k">public</span> <span class="pl-en">ContactsValidator</span>()
    {
        RuleFor(x =&gt; x.Name).NotEmpty().WithMessage(<span class="pl-s"><span class="pl-pds">"</span>A Name is what's needed.<span class="pl-pds">"</span></span>);
        RuleFor(x =&gt; x.Email).NotEmpty().EmailAddress();
        RuleFor(x =&gt; x.Age).GreaterThan(<span class="pl-c1">0</span>);
    }
}</pre></div>

<p>The Request DTO is first validated with the above declarative rules and if it fails returns a structured error response which ss-utils uses to bind the validation errors to all the invalid field <strong>class=help-block</strong> (or <strong>help-inline</strong>) placeholders:</p>

<p><a href="https://camo.githubusercontent.com/fd550f995c9dc0092f06f5162afab466bf8a8861/68747470733a2f2f7261772e6769746875622e636f6d2f53657276696365537461636b2f456d61696c436f6e74616374732f6d61737465722f7372632f456d61696c436f6e74616374732f436f6e74656e742f68746d6c2d76616c69646174696f6e2e706e67" target="_blank"><img src="https://camo.githubusercontent.com/fd550f995c9dc0092f06f5162afab466bf8a8861/68747470733a2f2f7261772e6769746875622e636f6d2f53657276696365537461636b2f456d61696c436f6e74616374732f6d61737465722f7372632f456d61696c436f6e74616374732f436f6e74656e742f68746d6c2d76616c69646174696f6e2e706e67" alt="HTML Validation" data-canonical-src="https://raw.github.com/ServiceStack/EmailContacts/master/src/EmailContacts/Content/html-validation.png" style="max-width:100%;"></a></p>

<p>Whilst the user goes back and corrects their INPUT, we can provide instant feedback and clear the errors as they update each each field with:</p>

<div class="highlight highlight-source-js"><pre><span class="pl-en">$</span>(<span class="pl-s"><span class="pl-pds">"</span>input<span class="pl-pds">"</span></span>).<span class="pl-en">change</span>(<span class="pl-smi">$</span>.<span class="pl-smi">ss</span>.<span class="pl-smi">clearAdjacentError</span>);</pre></div>

<p>Once all is successful we invoke the <code>success:</code> callback with the response of the Service which in this case is the newly created <code>Contact</code> that we dynamically add to the contacts list by calling the existing <code>addContacts()</code> method. We also clear all form values and put focus back to the first field, ready for a rapid entry of the next Contact:</p>

<div class="highlight highlight-source-js"><pre><span class="pl-en">$</span>(<span class="pl-s"><span class="pl-pds">"</span>#form-addcontact<span class="pl-pds">"</span></span>).<span class="pl-en">bindForm</span>({
    <span class="pl-en">success</span><span class="pl-k">:</span> <span class="pl-k">function</span> (<span class="pl-smi">contact</span>) {
        <span class="pl-en">addContacts</span>([contact]);
        <span class="pl-en">$</span>(<span class="pl-s"><span class="pl-pds">"</span>#form-addcontact input<span class="pl-pds">"</span></span>).<span class="pl-en">val</span>(<span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>)
            .<span class="pl-en">first</span>().<span class="pl-c1">focus</span>();
    }
});</pre></div>

<h3>
<a id="user-content-manual-error-handling" class="anchor" href="#manual-error-handling" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Manual Error Handling</h3>

<p>The <code>validate</code> callback can be used to add client side validation logic which can manually set client-side validation errors using <code>setFieldError()</code>, e.g:</p>

<div class="highlight highlight-source-js"><pre><span class="pl-en">$</span>(<span class="pl-s"><span class="pl-pds">"</span>form<span class="pl-pds">"</span></span>).<span class="pl-en">bindForm</span>({
    <span class="pl-en">validate</span><span class="pl-k">:</span> <span class="pl-k">function</span>(){
        <span class="pl-k">var</span> params <span class="pl-k">=</span> <span class="pl-en">$</span>(<span class="pl-v">this</span>).<span class="pl-en">serializeMap</span>();
        <span class="pl-k">if</span> (<span class="pl-smi">params</span>.<span class="pl-smi">Password</span> <span class="pl-k">!=</span> <span class="pl-smi">params</span>.<span class="pl-smi">Confirm</span>) {
            <span class="pl-en">$</span>(<span class="pl-v">this</span>).<span class="pl-en">setFieldError</span>(<span class="pl-s"><span class="pl-pds">'</span>Password<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>Passwords to not match<span class="pl-pds">'</span></span>);
            <span class="pl-k">return</span> <span class="pl-c1">false</span>;
        }
    }
});</pre></div>

<h2>
<a id="user-content-declarative-events" class="anchor" href="#declarative-events" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Declarative Events</h2>

<p>An interesting difference in the dynamically generated HTML are the presence of <strong>data-click=showContact</strong> and <strong>data-click=deleteContact</strong> attributes:</p>

<div class="highlight highlight-source-js"><pre><span class="pl-k">function</span> <span class="pl-en">addContacts</span>(<span class="pl-smi">contacts</span>) {
    <span class="pl-k">var</span> html <span class="pl-k">=</span> <span class="pl-smi">contacts</span>.<span class="pl-en">map</span>(<span class="pl-k">function</span> (<span class="pl-smi">c</span>) {
        <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">"</span>&lt;li data-id='<span class="pl-pds">"</span></span> <span class="pl-k">+</span> <span class="pl-smi">c</span>.<span class="pl-smi">Id</span> <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">"</span>' data-click='showContact'&gt;<span class="pl-pds">"</span></span> <span class="pl-k">+</span>
                <span class="pl-s"><span class="pl-pds">"</span>&lt;span class='glyphicon glyphicon-user' style='margin: 0 5px 0 0'&gt;&lt;/span&gt;<span class="pl-pds">"</span></span> <span class="pl-k">+</span>
                <span class="pl-smi">c</span>.<span class="pl-smi">Name</span> <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">"</span> <span class="pl-pds">"</span></span> <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">"</span> (<span class="pl-pds">"</span></span> <span class="pl-k">+</span> <span class="pl-smi">c</span>.<span class="pl-smi">Age</span> <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">"</span>)<span class="pl-pds">"</span></span> <span class="pl-k">+</span>
                <span class="pl-s"><span class="pl-pds">'</span>&lt;span class="glyphicon glyphicon-remove-circle" data-click="deleteContact"&gt;&lt;/span&gt;<span class="pl-pds">'</span></span>
             <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">"</span>&lt;/li&gt;<span class="pl-pds">"</span></span>;
    });
    <span class="pl-en">$</span>(<span class="pl-s"><span class="pl-pds">"</span>#contacts<span class="pl-pds">"</span></span>).<span class="pl-en">append</span>(<span class="pl-smi">html</span>.<span class="pl-c1">join</span>(<span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>));
}</pre></div>

<p>This showcases some of the declarative event support in ss-utils which allows you to invoke event handlers without needing to maintain bookkeeping of event handlers when adding or removing elements. 
You can instead define one set of event handlers for the entire page with <code>bindHandlers</code>, e.g:</p>

<div class="highlight highlight-source-js"><pre><span class="pl-en">$</span>(<span class="pl-c1">document</span>).<span class="pl-en">bindHandlers</span>({
    <span class="pl-en">showContact</span><span class="pl-k">:</span> <span class="pl-k">function</span>() {
        <span class="pl-k">var</span> id <span class="pl-k">=</span> <span class="pl-en">$</span>(<span class="pl-v">this</span>).<span class="pl-c1">data</span>(<span class="pl-s"><span class="pl-pds">"</span>id<span class="pl-pds">"</span></span>);
        <span class="pl-smi">$</span>.<span class="pl-en">getJSON</span>(<span class="pl-s"><span class="pl-pds">"</span>/contacts/<span class="pl-pds">"</span></span> <span class="pl-k">+</span> id, <span class="pl-k">function</span> (<span class="pl-smi">contact</span>) {
            <span class="pl-en">$</span>(<span class="pl-s"><span class="pl-pds">"</span>#email-contact<span class="pl-pds">"</span></span>)
                .<span class="pl-en">applyValues</span>(contact)
                .<span class="pl-en">show</span>();
            <span class="pl-en">$</span>(<span class="pl-s"><span class="pl-pds">"</span>#form-emailcontact .alert-success<span class="pl-pds">"</span></span>).<span class="pl-en">hide</span>();
        });
    },
    <span class="pl-en">deleteContact</span><span class="pl-k">:</span> <span class="pl-k">function</span> () {
        <span class="pl-k">var</span> $li <span class="pl-k">=</span> <span class="pl-en">$</span>(<span class="pl-v">this</span>).<span class="pl-en">closest</span>(<span class="pl-s"><span class="pl-pds">"</span>li<span class="pl-pds">"</span></span>);
        <span class="pl-smi">$</span>.<span class="pl-en">post</span>(<span class="pl-s"><span class="pl-pds">"</span>/contacts/<span class="pl-pds">"</span></span> <span class="pl-k">+</span> <span class="pl-smi">$li</span>.<span class="pl-c1">data</span>(<span class="pl-s"><span class="pl-pds">"</span>id<span class="pl-pds">"</span></span>) <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">"</span>/delete<span class="pl-pds">"</span></span>, <span class="pl-k">function</span> () {
            <span class="pl-smi">$li</span>.<span class="pl-en">remove</span>();
        });
    },
    <span class="pl-en">toggleAction</span><span class="pl-k">:</span> <span class="pl-k">function</span>() {
        <span class="pl-k">var</span> $form <span class="pl-k">=</span> <span class="pl-en">$</span>(<span class="pl-v">this</span>).<span class="pl-en">closest</span>(<span class="pl-s"><span class="pl-pds">"</span>form<span class="pl-pds">"</span></span>), action <span class="pl-k">=</span> <span class="pl-smi">$form</span>.<span class="pl-en">attr</span>(<span class="pl-s"><span class="pl-pds">"</span>action<span class="pl-pds">"</span></span>);
        <span class="pl-smi">$form</span>.<span class="pl-en">attr</span>(<span class="pl-s"><span class="pl-pds">"</span>action<span class="pl-pds">"</span></span>, <span class="pl-smi">$form</span>.<span class="pl-c1">data</span>(<span class="pl-s"><span class="pl-pds">"</span>action-alt<span class="pl-pds">"</span></span>))
                .<span class="pl-c1">data</span>(<span class="pl-s"><span class="pl-pds">"</span>action-alt<span class="pl-pds">"</span></span>, action);
    }
});</pre></div>

<p>The matching event handler will be invoked whenever an element with <strong>data-{event}={handlerName}</strong> is clicked, e.g: <code>data-click='showContact'</code>.</p>

<p>In addition to <strong>click</strong>, a number of other jQuery events can be declared in this way, as defined in:</p>

<div class="highlight highlight-source-js"><pre><span class="pl-smi">$</span>.<span class="pl-smi">ss</span>.<span class="pl-smi">listenOn</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>click dblclick change focus blur focusin focusout select keydown keypress keyup hover toggle<span class="pl-pds">'</span></span>;</pre></div>

<h3>
<a id="user-content-multiple-arguments" class="anchor" href="#multiple-arguments" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Multiple Arguments</h3>

<p>Declarative event handlers can also send multiple arguments:</p>

<div class="highlight highlight-text-html-basic"><pre>&lt;<span class="pl-ent">ul</span>&gt;
    &lt;<span class="pl-ent">li</span> <span class="pl-e">data-click</span>=<span class="pl-s"><span class="pl-pds">"</span>single<span class="pl-pds">"</span></span>&gt;Foo&lt;/<span class="pl-ent">li</span>&gt;
    &lt;<span class="pl-ent">li</span> <span class="pl-e">data-click</span>=<span class="pl-s"><span class="pl-pds">"</span>multiple:arg1,arg2<span class="pl-pds">"</span></span>&gt;Bar&lt;/<span class="pl-ent">li</span>&gt;
&lt;/<span class="pl-ent">ul</span>&gt;</pre></div>

<div class="highlight highlight-source-js"><pre><span class="pl-en">$</span>(<span class="pl-c1">document</span>).<span class="pl-en">bindHandlers</span>({
    <span class="pl-en">single</span><span class="pl-k">:</span> <span class="pl-k">function</span>(){
        <span class="pl-k">var</span> li <span class="pl-k">=</span> <span class="pl-v">this</span>;
    },
    <span class="pl-en">multiple</span><span class="pl-k">:</span> <span class="pl-k">function</span>(<span class="pl-smi">arg1</span>, <span class="pl-smi">arg2</span>) {
        <span class="pl-k">var</span> li <span class="pl-k">=</span> <span class="pl-v">this</span>;
    }
});</pre></div>

<h2>
<a id="user-content-data-binding" class="anchor" href="#data-binding" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Data Binding</h2>

<p>Diving into the implementation of <strong>showContact</strong> we see ss-utils <code>applyValues()</code> jQuery mixin which binds a JS object to the target element, in this case <strong>#email-contact</strong>:</p>

<div class="highlight highlight-source-js"><pre><span class="pl-en">showContact</span><span class="pl-k">:</span> <span class="pl-k">function</span>() {
    <span class="pl-k">var</span> id <span class="pl-k">=</span> <span class="pl-en">$</span>(<span class="pl-v">this</span>).<span class="pl-c1">data</span>(<span class="pl-s"><span class="pl-pds">"</span>id<span class="pl-pds">"</span></span>);
    <span class="pl-smi">$</span>.<span class="pl-en">getJSON</span>(<span class="pl-s"><span class="pl-pds">"</span>/contacts/<span class="pl-pds">"</span></span> <span class="pl-k">+</span> id, <span class="pl-k">function</span> (<span class="pl-smi">contact</span>) {
        <span class="pl-en">$</span>(<span class="pl-s"><span class="pl-pds">"</span>#email-contact<span class="pl-pds">"</span></span>)
            .<span class="pl-en">applyValues</span>(contact)
            .<span class="pl-en">show</span>();
        <span class="pl-en">$</span>(<span class="pl-s"><span class="pl-pds">"</span>#form-emailcontact .alert-success<span class="pl-pds">"</span></span>).<span class="pl-en">hide</span>();
    });
},</pre></div>

<p>The data-binding applied by <code>applyValues()</code> include:</p>

<ul>
<li>Set the <strong>value</strong> of all elements with matching <strong>id={field}</strong> or <strong>name={field}</strong>
</li>
<li>Set the <strong>value</strong> of all elements marked with <strong>data-val={field}</strong>
</li>
<li>Set the innerHTML contents of all elements marked with <strong>data-html={field}</strong>
</li>
<li>Set the <code>data-href</code> and <code>data-src</code> attributes</li>
</ul>

<h4>
<a id="user-content-example-usage" class="anchor" href="#example-usage" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Example Usage</h4>

<div class="highlight highlight-source-js"><pre><span class="pl-en">$</span>(<span class="pl-s"><span class="pl-pds">"</span>#email-contact<span class="pl-pds">"</span></span>).<span class="pl-en">applyValues</span>(contact);</pre></div>

<p>Which binds the returned <strong>contact</strong> response object to the <strong>#email-contact</strong> HTML Element, populating all matching elements with data from <code>contact</code>:</p>

<div class="highlight highlight-text-html-basic"><pre>&lt;<span class="pl-ent">div</span> <span class="pl-e">id</span>=<span class="pl-s"><span class="pl-pds">"</span>email-contact<span class="pl-pds">"</span></span>&gt;
    ...
    &lt;<span class="pl-ent">a</span> <span class="pl-e">data-href</span>=<span class="pl-s"><span class="pl-pds">"</span>ProfileUrl<span class="pl-pds">"</span></span>&gt;&lt;<span class="pl-ent">img</span> <span class="pl-e">data-src</span>=<span class="pl-s"><span class="pl-pds">"</span>ProfileUrl<span class="pl-pds">"</span></span> /&gt;&lt;/<span class="pl-ent">a</span>&gt;
    &lt;<span class="pl-ent">h3</span>&gt;
        Email &lt;<span class="pl-ent">span</span> <span class="pl-e">data-html</span>=<span class="pl-s"><span class="pl-pds">"</span>Name<span class="pl-pds">"</span></span>&gt;&lt;/<span class="pl-ent">span</span>&gt;
    &lt;/<span class="pl-ent">h3</span>&gt;
    &lt;<span class="pl-ent">h4</span>&gt;To: &lt;<span class="pl-ent">span</span> <span class="pl-e">data-html</span>=<span class="pl-s"><span class="pl-pds">"</span>Email<span class="pl-pds">"</span></span>&gt;&lt;/<span class="pl-ent">span</span>&gt;&lt;/<span class="pl-ent">h4</span>&gt;
    &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>clearfix<span class="pl-pds">"</span></span>&gt;&lt;/<span class="pl-ent">div</span>&gt;
    &lt;<span class="pl-ent">form</span> <span class="pl-e">id</span>=<span class="pl-s"><span class="pl-pds">"</span>form-emailcontact<span class="pl-pds">"</span></span> <span class="pl-e">method</span>=<span class="pl-s"><span class="pl-pds">"</span>POST<span class="pl-pds">"</span></span>&gt;
        ...
        &lt;<span class="pl-ent">input</span> <span class="pl-e">type</span>=<span class="pl-s"><span class="pl-pds">"</span>hidden<span class="pl-pds">"</span></span> <span class="pl-e">name</span>=<span class="pl-s"><span class="pl-pds">"</span>ContactId<span class="pl-pds">"</span></span> <span class="pl-e">data-val</span>=<span class="pl-s"><span class="pl-pds">"</span>Id<span class="pl-pds">"</span></span>  /&gt;
        ...
    &lt;/<span class="pl-ent">form</span>&gt;
&lt;/<span class="pl-ent">div</span>&gt;</pre></div>

<h2>
<a id="user-content-advanced-bindform-usages" class="anchor" href="#advanced-bindform-usages" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Advanced bindForm usages</h2>

<h3>
<a id="user-content-form-loading" class="anchor" href="#form-loading" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Form Loading</h3>

<p>Whilst a FORM is being processed all its buttons with <code>[type=submit]</code> (overridable with <code>$.ss.onSubmitDisable</code>) are disabled and a <strong>loading</strong> class is added whilst a response from the server is pending. 
This can be used to provide UX feedback to end users with just CSS. E.g. we use <code>.loading</code> CSS rule to show the rotating glyphicon:</p>

<div class="highlight highlight-source-css"><pre><span class="pl-e">#email-contact</span> <span class="pl-e">.loading</span> <span class="pl-e">.rotate</span> {
    <span class="pl-c1"><span class="pl-c1">visibility</span></span>: <span class="pl-c1">visible</span>;
}</pre></div>

<h3>
<a id="user-content-server-initiated-actions" class="anchor" href="#server-initiated-actions" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Server initiated actions</h3>

<p>Some useful functionality not demonstrated in this example is your Services ability to invoke client behavior by returning a response decorated with custom HTTP Headers. 
An example is being able to return "Soft Redirects" to navigate to a different page by adding a <strong>X-Location</strong> HTTP Header, e.g:</p>

<div class="highlight highlight-source-cs"><pre><span class="pl-k">return</span> <span class="pl-k">new</span> HttpResult(response) {
    Headers = {
        { <span class="pl-s"><span class="pl-pds">"</span>X-Location<span class="pl-pds">"</span></span>, newLocationUri },
    }
};</pre></div>

<p>When returned to a ajax form, it will instruct the page to automatically redirect to the new url.</p>

<p>You can also trigger an event on the page by returning a <strong>X-Trigger</strong> header, e.g:</p>

<div class="highlight highlight-source-cs"><pre><span class="pl-k">return</span> <span class="pl-k">new</span> HttpResult(response) {
    Headers = {
        { <span class="pl-s"><span class="pl-pds">"</span>X-Trigger<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>showLoginPopup<span class="pl-pds">"</span></span> },
    }
};</pre></div>

<p>In this case the page event handler named <strong>showLoginPopup</strong> will be invoked if it exists.</p>

<p>As we expect these features to be popular when developing ajax apps we've provided shorter typed aliases for the above examples:</p>

<div class="highlight highlight-source-cs"><pre><span class="pl-k">return</span> HttpResult.SoftRedirect(<span class="pl-k">new</span> ViewContact { Id = newContact.Id }.ToGetUrl(), newContact);
<span class="pl-k">return</span> HttpResult.TriggerEvent(contact, eventName:<span class="pl-s"><span class="pl-pds">"</span>showLoginPopup<span class="pl-pds">"</span></span>);</pre></div>

<h3>
<a id="user-content-ajaxsubmit" class="anchor" href="#ajaxsubmit" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>$.ajaxSubmit</h3>

<p>The <code>$.fn.ajaxSubmit</code> is also available for use independently to submit a HTML form via Ajax on demand. 
This is used in the 
<a href="https://github.com/ServiceStackApps/RedisReact/blob/15dfc5cfea49d0502ec8c090b5b180d29051ea3a/src/RedisReact/RedisReact/js/components/connections.jsx#L31">connections.jsx</a>
React Component of <a href="https://github.com/ServiceStackApps/RedisReact#connections">Redis React's Connections Page</a>
to auto submit the form via ajax to the specified <code>/connection</code> url with the populated Form INPUT values. It also disables the <code>#btnConnect</code> submit button and adds a <code>.loading</code> class to the form whilst it's in transit which is used to temporarily show the loading sprite:</p>

<div class="highlight highlight-source-js"><pre><span class="pl-k">var</span> Connections <span class="pl-k">=</span> <span class="pl-smi">React</span>.<span class="pl-en">createClass</span>({
    <span class="pl-c">//...</span>
    <span class="pl-en">onSubmit</span><span class="pl-k">:</span> <span class="pl-k">function</span> (<span class="pl-smi">e</span>) {
        <span class="pl-smi">e</span>.<span class="pl-en">preventDefault</span>();

        <span class="pl-k">var</span> $<span class="pl-v">this</span> <span class="pl-k">=</span> <span class="pl-v">this</span>;
        <span class="pl-en">$</span>(<span class="pl-smi">e</span>.<span class="pl-c1">target</span>).<span class="pl-en">ajaxSubmit</span>({
            onSubmitDisable<span class="pl-k">:</span> <span class="pl-en">$</span>(<span class="pl-s"><span class="pl-pds">"</span>#btnConnect<span class="pl-pds">"</span></span>),
            <span class="pl-en">success</span><span class="pl-k">:</span> <span class="pl-k">function</span> () {
                <span class="pl-smi">$this</span>.<span class="pl-en">setState</span>({ successMessage<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>Connection was changed<span class="pl-pds">"</span></span> });
                <span class="pl-smi">Actions</span>.<span class="pl-en">loadConnection</span>();
            }
        });
    },
    <span class="pl-en">render</span><span class="pl-k">:</span> <span class="pl-k">function</span> () {
        <span class="pl-k">var</span> conn <span class="pl-k">=</span> <span class="pl-v">this</span>.<span class="pl-smi">state</span>.<span class="pl-smi">connection</span>;
        <span class="pl-k">return</span> (
          <span class="pl-k">&lt;</span>div id<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>connections-page<span class="pl-pds">"</span></span><span class="pl-k">&gt;</span>
            <span class="pl-k">&lt;</span>div className<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>content<span class="pl-pds">"</span></span><span class="pl-k">&gt;</span>
                <span class="pl-k">&lt;</span>form id<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>formConnection<span class="pl-pds">"</span></span> className<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>form-inline<span class="pl-pds">"</span></span> onSubmit<span class="pl-k">=</span>{<span class="pl-v">this</span>.<span class="pl-smi">onSubmit</span>} action<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>/connection<span class="pl-pds">"</span></span><span class="pl-k">&gt;</span>
                    <span class="pl-k">&lt;</span>h2<span class="pl-k">&gt;</span>Redis Connection<span class="pl-k">&lt;</span><span class="pl-k">/</span>h2<span class="pl-k">&gt;</span>
                    <span class="pl-k">&lt;</span>div className<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>form-group<span class="pl-pds">"</span></span><span class="pl-k">&gt;</span>
                        <span class="pl-k">&lt;</span>input name<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>host<span class="pl-pds">"</span></span> type<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>text<span class="pl-pds">"</span></span> <span class="pl-k">/</span><span class="pl-k">&gt;</span>
                        <span class="pl-k">&lt;</span>input name<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>port<span class="pl-pds">"</span></span> type<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>text<span class="pl-pds">"</span></span> className<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>form-control<span class="pl-pds">"</span></span> <span class="pl-k">/</span><span class="pl-k">&gt;</span>
                        <span class="pl-k">&lt;</span>input name<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>db<span class="pl-pds">"</span></span> type<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>text<span class="pl-pds">"</span></span> className<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>form-control<span class="pl-pds">"</span></span> <span class="pl-k">/</span><span class="pl-k">&gt;</span>
                    <span class="pl-k">&lt;</span><span class="pl-k">/</span>div<span class="pl-k">&gt;</span>
                    <span class="pl-k">&lt;</span>p className<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>actions<span class="pl-pds">"</span></span><span class="pl-k">&gt;</span>
                        <span class="pl-k">&lt;</span>img className<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>loader<span class="pl-pds">"</span></span> src<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>/img/ajax-loader.gif<span class="pl-pds">"</span></span> <span class="pl-k">/</span><span class="pl-k">&gt;</span>
                        <span class="pl-k">&lt;</span>button id<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>btnConnect<span class="pl-pds">"</span></span> className<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>btn btn-default btn-primary<span class="pl-pds">"</span></span><span class="pl-k">&gt;</span>Change Connection<span class="pl-k">&lt;</span><span class="pl-k">/</span>button<span class="pl-k">&gt;</span>
                    <span class="pl-k">&lt;</span><span class="pl-k">/</span>p<span class="pl-k">&gt;</span>
                    <span class="pl-k">&lt;</span>p className<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>bg-success<span class="pl-pds">"</span></span><span class="pl-k">&gt;</span>{<span class="pl-v">this</span>.<span class="pl-smi">state</span>.<span class="pl-smi">successMessage</span>}<span class="pl-k">&lt;</span><span class="pl-k">/</span>p<span class="pl-k">&gt;</span>
                    <span class="pl-k">&lt;</span>p className<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>bg-danger error-summary<span class="pl-pds">"</span></span><span class="pl-k">&gt;&lt;</span><span class="pl-k">/</span>p<span class="pl-k">&gt;</span>
                <span class="pl-k">&lt;</span><span class="pl-k">/</span>form<span class="pl-k">&gt;</span>
            <span class="pl-k">&lt;</span><span class="pl-k">/</span>div<span class="pl-k">&gt;</span>
          <span class="pl-k">&lt;</span><span class="pl-k">/</span>div<span class="pl-k">&gt;</span>
        );
    }
}; </pre></div>

<h3>
<a id="user-content-ssparseresponsestatus" class="anchor" href="#ssparseresponsestatus" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>$.ss.parseResponseStatus</h3>

<p>Lets you easily parse the raw text of a Ajax Error Response into a responseStatus JavaScript object, example used in Redis React's 
<a href="https://github.com/ServiceStackApps/RedisReact/blob/15dfc5cfea49d0502ec8c090b5b180d29051ea3a/src/RedisReact/RedisReact/js/components/console.jsx#L103">Console Component</a>: </p>

<div class="highlight highlight-source-js"><pre>.<span class="pl-en">fail</span>(<span class="pl-k">function</span> (<span class="pl-smi">jq</span>, <span class="pl-smi">jqStatus</span>, <span class="pl-smi">statusDesc</span>) {
    <span class="pl-k">var</span> status <span class="pl-k">=</span> <span class="pl-smi">$</span>.<span class="pl-smi">ss</span>.<span class="pl-en">parseResponseStatus</span>(<span class="pl-smi">jq</span>.<span class="pl-smi">responseText</span>, statusDesc);
    <span class="pl-smi">Actions</span>.<span class="pl-en">logEntry</span>({
        cmd<span class="pl-k">:</span> cmd,
        result<span class="pl-k">:</span> <span class="pl-smi">status</span>.<span class="pl-smi">message</span>,
        stackTrace<span class="pl-k">:</span> <span class="pl-smi">status</span>.<span class="pl-smi">stackTrace</span>,
        type<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>err<span class="pl-pds">'</span></span>,
    });
});</pre></div>

<h3>
<a id="user-content-ssbindall" class="anchor" href="#ssbindall" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>$.ss.bindAll</h3>

<p>The <code>bindAll</code> API is a simple helper for creating lightweight JavaScript objects by binding <code>this</code> for all functions of an object literal to the object instance, e.g:</p>

<div class="highlight highlight-source-js"><pre><span class="pl-k">var</span> Greeting <span class="pl-k">=</span> <span class="pl-smi">$</span>.<span class="pl-smi">ss</span>.<span class="pl-en">bindAll</span>({
    name<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>World<span class="pl-pds">"</span></span>,
    <span class="pl-en">sayHello</span><span class="pl-k">:</span> <span class="pl-k">function</span>() {
        <span class="pl-en">alert</span>(<span class="pl-s"><span class="pl-pds">"</span>Hello, <span class="pl-pds">"</span></span> <span class="pl-k">+</span> <span class="pl-v">this</span>.<span class="pl-c1">name</span>);
    }
});

<span class="pl-k">var</span> fn <span class="pl-k">=</span> <span class="pl-smi">Greeting</span>.<span class="pl-smi">sayHello</span>;
<span class="pl-en">fn</span>(); <span class="pl-c">// Hello, World</span></pre></div>

<h2>
<a id="user-content-typescript-definition" class="anchor" href="#typescript-definition" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>TypeScript Definition</h2>

<p>The TypeScript definitions for <a href="https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/js/ss-utils.d.ts">ss-utils.d.ts</a> is an embedded resource inside <strong>ServiceStack.dll</strong> which is available from <code>/js/ss-utils.d.ts</code>, e.g <a href="https://servicestack.net/js/ss-utils.d.ts">servicestack.net/js/ss-utils.d.ts</a>.</p>

<h2>
<a id="user-content-api-reference" class="anchor" href="#api-reference" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>API Reference</h2>

<div class="highlight highlight-source-js"><pre><span class="pl-smi">$</span>.<span class="pl-smi">ss</span>.<span class="pl-smi">onSubmitDisable</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>[type=submit]<span class="pl-pds">"</span></span>  <span class="pl-c">// Disable elements during form submission</span>

<span class="pl-smi">$</span>.<span class="pl-smi">ss</span>.<span class="pl-smi">validation</span> <span class="pl-k">=</span> {                <span class="pl-c">// Customize Validation</span>
    overrideMessages<span class="pl-k">:</span> <span class="pl-c1">false</span>,       <span class="pl-c">// Whether to override Server Error Messages</span>
    messages<span class="pl-k">:</span> {                    <span class="pl-c">// List of Server ErrorCodes to override</span>
      NotEmpty<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>Required<span class="pl-pds">"</span></span>,        <span class="pl-c">// Override `NotEmpty` ErrorCode with `Required`</span>
    },
}
<span class="pl-smi">$</span>.<span class="pl-smi">fn</span>.<span class="pl-en">serializeMap</span>()                <span class="pl-c">// Return the FORM's INPUT values as a map</span>
<span class="pl-smi">$</span>.<span class="pl-smi">fn</span>.<span class="pl-en">setFieldError</span>(name,msg)       <span class="pl-c">// Set the error for field `name` with `msg`</span>
<span class="pl-smi">$</span>.<span class="pl-smi">fn</span>.<span class="pl-en">applyErrors</span>(status,options)   <span class="pl-c">// Apply errors in ResponseStatus to Element</span>
<span class="pl-smi">$</span>.<span class="pl-smi">fn</span>.<span class="pl-en">clearErrors</span>()                 <span class="pl-c">// Clear all errors applied to Element</span>
<span class="pl-smi">$</span>.<span class="pl-smi">ss</span>.<span class="pl-en">clearAdjacentError</span>()          <span class="pl-c">// Clear adjacent errors in help-block/inline</span>
<span class="pl-smi">$</span>.<span class="pl-smi">ss</span>.<span class="pl-smi">parseResponseStatus</span>           <span class="pl-c">// Parse raw JSON Error ResponseStatus</span>

<span class="pl-smi">$</span>.<span class="pl-smi">fn</span>.<span class="pl-en">bindForm</span>(options)             <span class="pl-c">// Bind and Ajaxify the HTML Form</span>
<span class="pl-smi">$</span>.<span class="pl-smi">fn</span>.<span class="pl-en">ajaxSubmit</span>()                  <span class="pl-c">// Submit a HTML Form via Ajax</span>
<span class="pl-smi">$</span>.<span class="pl-smi">fn</span>.<span class="pl-en">applyValues</span>(map)              <span class="pl-c">// Databind values in `map` to HTML Element</span>

<span class="pl-smi">$</span>.<span class="pl-smi">fn</span>.<span class="pl-en">bindHandlers</span>(handlers)        <span class="pl-c">// Register global declarative JS handlers</span>
<span class="pl-smi">$</span>.<span class="pl-smi">ss</span>.<span class="pl-smi">listenOn</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>click ...<span class="pl-pds">"</span></span>        <span class="pl-c">// Specify DOM events for declarative events</span>
<span class="pl-smi">$</span>.<span class="pl-smi">ss</span>.<span class="pl-smi">bindAll</span>                       <span class="pl-c">// Bind all object literal functions to itself</span>

<span class="pl-smi">$</span>.<span class="pl-smi">fn</span>.<span class="pl-en">setActiveLinks</span>()              <span class="pl-c">// Add `active` class to links with current url</span>

<span class="pl-smi">$</span>.<span class="pl-smi">ss</span>.<span class="pl-en">todate</span>(string)                <span class="pl-c">// Convert String to Date</span>
<span class="pl-smi">$</span>.<span class="pl-smi">ss</span>.<span class="pl-en">todfmt</span>(string)                <span class="pl-c">// Convert String to `YYYY-MM-DD` Date Format</span>
<span class="pl-smi">$</span>.<span class="pl-smi">ss</span>.<span class="pl-en">dfmt</span>(date)                    <span class="pl-c">// Convert Date to `YYYY-MM-DD` Date Format</span>
<span class="pl-smi">$</span>.<span class="pl-smi">ss</span>.<span class="pl-en">dfmthm</span>(date)                  <span class="pl-c">// Convert Date to `YYYY-MM-DD HH:MM:SS PM`</span>
<span class="pl-smi">$</span>.<span class="pl-smi">ss</span>.<span class="pl-en">tfmt12</span>(date)                  <span class="pl-c">// Convert Date to `HH:MM:SS PM`</span>

<span class="pl-smi">$</span>.<span class="pl-smi">ss</span>.<span class="pl-en">splitOnFirst</span>(string,needle)   <span class="pl-c">// Split on first occurrence of needle</span>
<span class="pl-smi">$</span>.<span class="pl-smi">ss</span>.<span class="pl-en">splitOnLast</span>(string,needle)    <span class="pl-c">// Split on last occurrence of needle</span>

<span class="pl-smi">$</span>.<span class="pl-smi">ss</span>.<span class="pl-c1">getSelection</span>()                <span class="pl-c">// Get currently selected text (if any)</span>

<span class="pl-smi">$</span>.<span class="pl-smi">ss</span>.<span class="pl-en">queryString</span>(url)              <span class="pl-c">// Return a map of key value pairs</span>

<span class="pl-smi">$</span>.<span class="pl-smi">fn</span>.<span class="pl-en">handleServerEvents</span>()          <span class="pl-c">// Handle ServiceStack ServerEvents</span>
<span class="pl-smi">$</span>.<span class="pl-smi">ss</span>.<span class="pl-smi">eventReceivers</span> <span class="pl-k">=</span> {}           <span class="pl-c">// Specify global receivers for ServerEvents</span></pre></div>

<h4>
<a id="user-content-combinepaths-and-createurl" class="anchor" href="#combinepaths-and-createurl" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>combinePaths and createUrl</h4>

<p>The <code>combinePaths</code> and <code>createUrl</code> API's help with constructing urls, e.g:</p>

<div class="highlight highlight-source-js"><pre><span class="pl-smi">$</span>.<span class="pl-smi">ss</span>.<span class="pl-en">combinePaths</span>(<span class="pl-s"><span class="pl-pds">"</span>path<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>to<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>..<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>join<span class="pl-pds">"</span></span>)   <span class="pl-c">//= path/join</span>
<span class="pl-smi">$</span>.<span class="pl-smi">ss</span>.<span class="pl-en">createPath</span>(<span class="pl-s"><span class="pl-pds">"</span>path/{foo}<span class="pl-pds">"</span></span>, {foo<span class="pl-k">:</span><span class="pl-c1">1</span>,bar<span class="pl-k">:</span><span class="pl-c1">2</span>}) <span class="pl-c">//= path/1</span>

<span class="pl-smi">$</span>.<span class="pl-smi">ss</span>.<span class="pl-en">createUrl</span>(<span class="pl-s"><span class="pl-pds">"</span>http://host/path/{foo}<span class="pl-pds">"</span></span>,{foo<span class="pl-k">:</span><span class="pl-c1">1</span>,bar<span class="pl-k">:</span><span class="pl-c1">2</span>}) <span class="pl-c">//= http://host/path/1?bar=2</span></pre></div>

<h4>
<a id="user-content-normalize-and-normalizekey" class="anchor" href="#normalize-and-normalizekey" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>normalize and normalizeKey</h4>

<p><code>normalizeKey</code> and <code>normalize</code> APIs helps with normalizing JSON responses with different naming 
conventions by converting each property into lowercase with any <code>_</code> separators removed - <code>normalizeKey()</code> 
converts a single string whilst <code>normalize()</code> converts an entire object graph, e.g:</p>

<div class="highlight highlight-source-js"><pre><span class="pl-smi">$</span>.<span class="pl-smi">ss</span>.<span class="pl-en">normalizeKey</span>(<span class="pl-s"><span class="pl-pds">"</span>THE_KEY<span class="pl-pds">"</span></span>) <span class="pl-c">//= thekey</span>

<span class="pl-c1">JSON</span>.<span class="pl-en">stringify</span>(
    <span class="pl-smi">$</span>.<span class="pl-smi">ss</span>.<span class="pl-en">normalize</span>({THE_KEY<span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">"</span>key<span class="pl-pds">"</span></span>,Foo<span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">"</span>foo<span class="pl-pds">"</span></span>,bar<span class="pl-k">:</span>{A<span class="pl-k">:</span><span class="pl-c1">1</span>}})
)   <span class="pl-c">//= {"thekey":"key","foo":"foo","bar":{"A":1}}</span>

<span class="pl-k">const</span> <span class="pl-c1">deep</span> <span class="pl-k">=</span> <span class="pl-c1">true</span>;
<span class="pl-c1">JSON</span>.<span class="pl-en">stringify</span>(
    <span class="pl-smi">$</span>.<span class="pl-smi">ss</span>.<span class="pl-en">normalize</span>({THE_KEY<span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">"</span>key<span class="pl-pds">"</span></span>,Foo<span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">"</span>foo<span class="pl-pds">"</span></span>,bar<span class="pl-k">:</span>{A<span class="pl-k">:</span><span class="pl-c1">1</span>}}, deep) 
)   <span class="pl-c">//= {"thekey":"key","foo":"foo","bar":{"a":1}}</span></pre></div>

<h4>
<a id="user-content-postjson" class="anchor" href="#postjson" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>postJSON</h4>

<p><code>postJSON</code> is jQuery's missing equivalent to <code>$.getJSON</code>, but for POST's, eg:</p>

<div class="highlight highlight-source-js"><pre><span class="pl-smi">$</span>.<span class="pl-smi">ss</span>.<span class="pl-en">postJSON</span>(url, {data<span class="pl-k">:</span><span class="pl-c1">1</span>}, <span class="pl-smi">response</span> <span class="pl-k">=&gt;</span> <span class="pl-k">...</span>, <span class="pl-smi">error</span> <span class="pl-k">=&gt;</span> <span class="pl-k">...</span>);</pre></div>
