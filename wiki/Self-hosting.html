<p>It's very easy to host ServiceStack in a console app or in a windows service. You just have to derive from <code>AppSelfHostBase</code> instead of <code>AppHostBase</code>:</p>

<h3>
<a id="user-content-complete-c-console-host-example" class="anchor" href="#complete-c-console-host-example" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Complete C# Console Host Example</h3>

<div class="highlight highlight-source-cs"><pre><span class="pl-k">using</span> System<span class="pl-k">;</span>
<span class="pl-k">using</span> ServiceStack<span class="pl-k">;</span>

<span class="pl-k">class</span> <span class="pl-en">Program</span> 
{
    [Route(<span class="pl-s"><span class="pl-pds">"</span>/hello/{Name}<span class="pl-pds">"</span></span>)]
    <span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-en">Hello</span> {
        <span class="pl-k">public</span> <span class="pl-k">string</span> <span class="pl-en">Name</span> { <span class="pl-k">get</span>; <span class="pl-k">set</span>; }
    }

    <span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-en">HelloResponse</span> {
        <span class="pl-k">public</span> <span class="pl-k">string</span> <span class="pl-en">Result</span> { <span class="pl-k">get</span>; <span class="pl-k">set</span>; }
    }

    <span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-en">HelloService</span> : <span class="pl-k">Service</span>
    {
        <span class="pl-k">public</span> <span class="pl-k">object</span> <span class="pl-en">Any</span>(<span class="pl-k">Hello</span> <span class="pl-smi">request</span>) 
        {
            <span class="pl-k">return</span> <span class="pl-k">new</span> HelloResponse { Result = <span class="pl-s"><span class="pl-pds">"</span>Hello, <span class="pl-pds">"</span></span> + request.Name };
        }
    }

    <span class="pl-c">//Define the Web Services AppHost</span>
    <span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-en">AppHost</span> : <span class="pl-k">AppSelfHostBase</span> {
        <span class="pl-k">public</span> <span class="pl-en">AppHost</span>() 
          : <span class="pl-c1">base</span>("HttpListener Self-Host", typeof(HelloService).Assembly) {}

        <span class="pl-k">public</span> <span class="pl-k">override</span> <span class="pl-k">void</span> <span class="pl-en">Configure</span>(<span class="pl-k">Funq.Container</span> <span class="pl-smi">container</span>) { }
    }

    <span class="pl-c">//Run it!</span>
    <span class="pl-k">static</span> <span class="pl-k">void</span> <span class="pl-en">Main</span>(<span class="pl-k">string[]</span> <span class="pl-smi">args</span>)
    {
        <span class="pl-k">var</span> listeningOn = args.Length == <span class="pl-c1">0</span> ? <span class="pl-s"><span class="pl-pds">"</span>http://*:1337/<span class="pl-pds">"</span></span> : args[<span class="pl-c1">0</span>];
        <span class="pl-k">var</span> appHost = <span class="pl-k">new</span> AppHost()
            .Init()
            .Start(listeningOn);

        Console.WriteLine(<span class="pl-s"><span class="pl-pds">"</span>AppHost Created at {0}, listening on {1}<span class="pl-pds">"</span></span>, 
            DateTime.Now, listeningOn);

        Console.ReadKey();
    }
}</pre></div>

<h3>
<a id="user-content-complete-vbnet-console-host-example" class="anchor" href="#complete-vbnet-console-host-example" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Complete VB.NET Console Host Example</h3>

<div class="highlight highlight-source-vbnet"><pre><span class="pl-k">Imports</span> System
<span class="pl-k">Imports</span> ServiceStack

<span class="pl-k">Public</span> <span class="pl-k">Class</span> <span class="pl-en">Program</span>

    <span class="pl-k">&lt;</span>Route(<span class="pl-s">"/hello/{Name}"</span>)<span class="pl-k">&gt;</span>
    <span class="pl-k">Public</span> <span class="pl-k">Class</span> <span class="pl-en">Hello</span>
        <span class="pl-k">Public</span> <span class="pl-k">Property</span> <span class="pl-en">Name</span> <span class="pl-k">As </span><span class="pl-c1">String</span>
<span class="pl-k">    End Class</span>


    <span class="pl-k">Public</span> <span class="pl-k">Class</span> <span class="pl-en">HelloResponse</span>
        <span class="pl-k">Public</span> <span class="pl-k">Property</span> <span class="pl-en">Result</span> <span class="pl-k">As </span><span class="pl-c1">String</span>
<span class="pl-k">    End Class</span>


    <span class="pl-k">Public</span> <span class="pl-k">Class</span> <span class="pl-en">HelloService</span>
        <span class="pl-k">Inherits </span>Service
        <span class="pl-k">Public</span> <span class="pl-c1">Function</span> <span class="pl-en">Any</span>(Request <span class="pl-k">As </span>Hello) <span class="pl-k">As </span><span class="pl-c1">Object</span>
            <span class="pl-k">Return</span> <span class="pl-c1">New</span> HelloResponse() <span class="pl-k">With</span> {<span class="pl-k">.</span>Result <span class="pl-k">=</span> <span class="pl-s">"Hello"</span> <span class="pl-k">&amp;</span> Request<span class="pl-k">.</span>Name}
<span class="pl-k">        End Function</span>
<span class="pl-k">    End Class</span>

    <span class="pl-c">' Define the Web Services AppHost</span>
    <span class="pl-k">Public</span> <span class="pl-k">Class</span> <span class="pl-en">AppHost</span>
        <span class="pl-k">Inherits </span>AppSelfHostBase

        <span class="pl-k">Public</span> <span class="pl-c1">Sub</span> <span class="pl-en">New</span>()
            <span class="pl-k">MyBase.</span><span class="pl-c1">New</span>(<span class="pl-s">"HttpListener Self-Host"</span>, <span class="pl-c1">GetType</span>(HelloService)<span class="pl-k">.</span>Assembly)
<span class="pl-k">        End Sub</span>

        <span class="pl-k">Public</span> <span class="pl-k">Overrides</span> <span class="pl-c1">Sub</span> <span class="pl-en">Configure</span>(container <span class="pl-k">As </span>Funq<span class="pl-k">.</span>Container)
<span class="pl-k">        End Sub</span>
<span class="pl-k">    End Class</span>

    <span class="pl-c">' Run it!</span>
    <span class="pl-k">Overloads</span> <span class="pl-k">Shared</span> <span class="pl-c1">Sub</span> <span class="pl-en">Main</span>(<span class="pl-k">ByVal </span>Args() <span class="pl-k">As </span><span class="pl-c1">String</span>)        
        <span class="pl-k">Dim</span> listeningOn <span class="pl-k">As </span><span class="pl-c1">String</span> <span class="pl-k">=</span> <span class="pl-k">If</span>(Args<span class="pl-k">.</span>Length <span class="pl-k">=</span> <span class="pl-c1">0</span>, <span class="pl-s">"http://*:1337/"</span>, Args(<span class="pl-c1">0</span>))

        <span class="pl-k">Dim</span> AppHost <span class="pl-k">As </span>IAppHost <span class="pl-k">=</span> <span class="pl-c1">New</span> AppHost()<span class="pl-k">.</span>Init()<span class="pl-k">.</span>Start(listeningOn)

        Console<span class="pl-k">.</span>WriteLine(<span class="pl-s">"AppHost Created at {0}, listening on {1}"</span>,
            DateTime<span class="pl-k">.</span>Now, listeningOn)

        Console<span class="pl-k">.</span>ReadKey()

<span class="pl-k">    End Sub</span>
<span class="pl-k">End Class</span></pre></div>

<h3>
<a id="user-content-complete-f-console-host-example" class="anchor" href="#complete-f-console-host-example" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Complete F# Console Host Example</h3>

<div class="highlight highlight-source-fsharp"><pre><span class="pl-k">open</span> <span class="pl-en">System</span>
<span class="pl-k">open</span> <span class="pl-en">ServiceStack</span>

<span class="pl-k">type</span> <span class="pl-en">Hello </span><span class="pl-k">=</span> <span class="pl-k">{</span> mutable Name<span class="pl-k">:</span> string<span class="pl-k">;</span> <span class="pl-k">}</span>
<span class="pl-k">type</span> <span class="pl-en">HelloResponse </span><span class="pl-k">=</span> <span class="pl-k">{</span> mutable Result<span class="pl-k">:</span> string<span class="pl-k">;</span> <span class="pl-k">}</span>
<span class="pl-k">type</span> <span class="pl-en">HelloService</span><span class="pl-c1">()</span> <span class="pl-k">=</span>
    <span class="pl-k">interface</span> IService <span class="pl-k">with</span>
        <span class="pl-k">member</span> <span class="pl-smi">this.Any</span> (<span class="pl-v">req</span>:<span class="pl-v">Hello</span>) <span class="pl-k">=</span> <span class="pl-k">{</span> Result <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>Hello, <span class="pl-pds">"</span></span> <span class="pl-k">+</span> req.Name <span class="pl-k">}</span>

<span class="pl-c">//Define the Web Services AppHost</span>
<span class="pl-k">type</span> <span class="pl-en">AppHost </span><span class="pl-k">=</span>
    <span class="pl-k">inherit</span> AppSelfHostBase 
    <span class="pl-k">new</span><span class="pl-c1">()</span> <span class="pl-k">=</span> <span class="pl-k">{</span> <span class="pl-k">inherit</span> AppSelfHostBase(<span class="pl-s"><span class="pl-pds">"</span>Hello F# Services<span class="pl-pds">"</span></span>, typeof<span class="pl-k">&lt;</span>HelloService<span class="pl-k">&gt;</span>.Assembly) <span class="pl-k">}</span>
    <span class="pl-k">override</span> <span class="pl-smi">this.Configure</span> <span class="pl-v">container</span> <span class="pl-k">=</span>
        base.Routes
            .Add<span class="pl-k">&lt;</span>Hello<span class="pl-k">&gt;</span>(<span class="pl-s"><span class="pl-pds">"</span>/hello<span class="pl-pds">"</span></span>)
            .Add<span class="pl-k">&lt;</span>Hello<span class="pl-k">&gt;</span>(<span class="pl-s"><span class="pl-pds">"</span>/hello/{Name}<span class="pl-pds">"</span></span>) <span class="pl-k">|&gt;</span> ignore

<span class="pl-c">//Run it!</span>
<span class="pl-c1">[&lt;EntryPoint&gt;]</span>
<span class="pl-k">let</span> <span class="pl-smi">main</span> <span class="pl-v">args</span> <span class="pl-k">=</span>
    <span class="pl-k">let</span> <span class="pl-smi">host</span> <span class="pl-k">=</span> <span class="pl-k">if</span> args.Length <span class="pl-k">=</span> <span class="pl-c1">0</span> <span class="pl-k">then</span> <span class="pl-s"><span class="pl-pds">"</span>http://*:1337/<span class="pl-pds">"</span></span> <span class="pl-k">else</span> args.<span class="pl-k">[</span><span class="pl-c1">0</span><span class="pl-k">]</span>
    printfn <span class="pl-pds">"</span><span class="pl-s">listening on <span class="pl-c1">%s</span> ...</span><span class="pl-pds">"</span> host
    <span class="pl-k">let</span> <span class="pl-smi">appHost</span> <span class="pl-k">=</span> <span class="pl-k">new</span> AppHost<span class="pl-c1">()</span>
    appHost.Init<span class="pl-c1">()</span>
    appHost.Start host
    Console.ReadLine<span class="pl-c1">()</span> <span class="pl-k">|&gt;</span> ignore
    <span class="pl-c1">0</span></pre></div>

<p>When any of these are running, you can call your hello service at <code>http://localhost:1337/hello/World!</code></p>

<h3>
<a id="user-content-serving-razor-views-or-static-files-from-httplistener" class="anchor" href="#serving-razor-views-or-static-files-from-httplistener" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Serving Razor Views or Static Files from HttpListener</h3>

<p>The PhysicalPath for self-hosted HttpListener hosts is at the same directory where the <code>.exe</code> is run (e.g. in <code>/bin</code>). To serve any static files or execute any Razor Views you need to set the <strong>Copy Output Directory</strong> of all static assets you want available to <code>Copy if newer</code>. The <a href="https://github.com/ServiceStack/ServiceStack.Gap">ServiceStack.Gap</a> feature provides an alternative packaging approach that can embed static resources and pre-compile razor views into a single <code>.exe</code> for the most optimal deployment.</p>

<h3>
<a id="user-content-serve-static-files-from-your-project-path" class="anchor" href="#serve-static-files-from-your-project-path" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Serve Static Files from your Project Path</h3>

<p>An alternative way for the Self-Hosted Console Application to find your Static files and Razor Views is to change the physical path so it points at your project directory. This enables an optimal <strong>Live Reloading</strong> development experience since its serving the original source Views you edit directly in your Project and not any copies that are copied to your <code>/bin</code>. </p>

<p>You can change the Physical Path from the location where the <strong>.exe</strong> is run in <code>\bin\Debug</code> to your Project folder in <code>DEBUG</code> builds with: </p>

<div class="highlight highlight-source-cs"><pre>SetConfig(<span class="pl-k">new</span> HostConfig {
#if <span class="pl-en">DEBUG</span>
    DebugMode = <span class="pl-c1">true</span>,
    WebHostPhysicalPath = <span class="pl-s"><span class="pl-pds">"</span>~/../..<span class="pl-pds">"</span></span>.MapServerPath(),
#endif
});</pre></div>

<blockquote>
<p>You will still need to "Copy to Output Directory" in RELEASE builds if you're not using <a href="https://github.com/ServiceStack/ServiceStack/wiki/Virtual-file-system#embedded-resources">Embedded Resources</a> so the Console App can locate the Razor Views and Static files at runtime.</p>
</blockquote>

<h3>
<a id="user-content-host-as-a-windows-or-linux-console-host-windows-service-or-linux-daemon" class="anchor" href="#host-as-a-windows-or-linux-console-host-windows-service-or-linux-daemon" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Host as a Windows or Linux Console Host, Windows Service or Linux Daemon</h3>

<p>This will run in as a Console Host in any Operating System with .NET 3.5 or Mono installed. In addition this can also be wrapped-up and run inside a <a href="https://github.com/ServiceStack/ServiceStack.Examples/tree/master/src/StarterTemplates/WinServiceAppHost">Windows Service</a> or run as a <a href="https://github.com/ServiceStack/ServiceStack/wiki/Run-ServiceStack-as-a-daemon-on-Linux">Linux Daemon</a> which you can optionally elect to serve behind <a href="https://github.com/ServiceStack/ServiceStack/wiki/Run-ServiceStack-as-a-daemon-on-Linux">Apache or Nginx reverse proxies</a>.</p>

<h3>
<a id="user-content-easily-convert-to-an-aspnet-web-service" class="anchor" href="#easily-convert-to-an-aspnet-web-service" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Easily Convert to an ASP.NET Web Service</h3>

<p>As both AppHostBase and AppHostHttpListenerBase follow the same API they are easily convertible between the two. Here's some step-by-step instructions showing you how to convert an <a href="http://www.servicestack.net/mythz_blog/?p=785">F# Console Host to an ASP.NET Web Service on OSX!</a></p>

<h1>
<a id="user-content-community-resources" class="anchor" href="#community-resources" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Community Resources</h1>

<ul>
<li>
<a href="http://lderache.github.io/servicestack-how-to-selfhost-plus-razor-plus-webform/">ServiceStack how to: SelfHost + Razor + WebForm Auth</a> by <a href="https://twitter.com/laurentderache">@laurentderache</a><br>
</li>
<li>
<a href="http://en.rdebug.com/2013/05/servicestack-selfhosted-performance-boost/">ServiceStack SelfHosted Performance Boost</a> by <a href="https://twitter.com/rudygt">@rudygt</a>
</li>
<li>
<a href="http://www.ienablemuch.com/2012/12/self-hosting-servicestack-serving.html">Self-hosting ServiceStack serving razor'd HTML</a> by <a href="http://twitter.com/ienablemuch">@ienablemuch</a>
</li>
</ul>
