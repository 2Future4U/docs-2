<p>ServiceStack will automatically generate a metadata page about the webservice. The metadata can be found under the URL <code>/metadata</code>:</p>

<p><a href="https://raw.githubusercontent.com/ServiceStack/Assets/master/img/wikis/metadata-chat.png" target="_blank"><img src="https://raw.githubusercontent.com/ServiceStack/Assets/master/img/wikis/metadata-chat.png" alt="Example" style="max-width:100%;"></a></p>

<p>The Metadata page contains:</p>

<ul>
<li>List of all visible web services and the endpoints they're accessible on</li>
<li>Links to a detailed page of each format, with example request and responses</li>
<li>Links to SOAP 1.1/1.2 WSDLs</li>
<li>Links to all XSD types for all services</li>
<li>Links to internally available debug metadata info</li>
<li>Links to Client examples documentation</li>
</ul>

<p>The metadata pages provide automatic generated documentation around your services, allowing consumers of your APIs to more easily introspect and provide greater visibility of your services. </p>

<hr>

<p>You can also optionally add custom annotations and documentation on services which will automatically appear on the metadata pages. Here is an example of a fully annotated Service:</p>

<div class="highlight highlight-source-cs"><pre>[Api(<span class="pl-s"><span class="pl-pds">"</span>Service Description<span class="pl-pds">"</span></span>)]
[Route(<span class="pl-s"><span class="pl-pds">"</span>/swagger/{Name}<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>GET<span class="pl-pds">"</span></span>, Summary = <span class="pl-s"><span class="pl-pds">"</span>GET Summary<span class="pl-pds">"</span></span>, Notes=<span class="pl-s"><span class="pl-pds">"</span>Notes<span class="pl-pds">"</span></span>)]
[Route(<span class="pl-s"><span class="pl-pds">"</span>/swagger/{Name}<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>POST<span class="pl-pds">"</span></span>, Summary =<span class="pl-s"><span class="pl-pds">"</span>POST Summary<span class="pl-pds">"</span></span>, Notes=<span class="pl-s"><span class="pl-pds">"</span>Notes<span class="pl-pds">"</span></span>)]
<span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-en">MyRequestDto</span>
{
    [ApiMember(Name=<span class="pl-s"><span class="pl-pds">"</span>Name<span class="pl-pds">"</span></span>, Description = <span class="pl-s"><span class="pl-pds">"</span>Name Description<span class="pl-pds">"</span></span>, 
        ParameterType = <span class="pl-s"><span class="pl-pds">"</span>path<span class="pl-pds">"</span></span>, DataType = <span class="pl-s"><span class="pl-pds">"</span>string<span class="pl-pds">"</span></span>, IsRequired = <span class="pl-c1">true</span>)]
    <span class="pl-k">public</span> <span class="pl-k">string</span> <span class="pl-en">Name</span> { <span class="pl-k">get</span>; <span class="pl-k">set</span>; }
}</pre></div>

<p>If now the detail page of the specific service is inspected, the description configured above will be displayed on both the <a href="github.com/ServiceStack/ServiceStack/wiki/Swagger-API">Swagger UI</a> and Metadata Detail Page:</p>

<p><a href="https://raw.githubusercontent.com/ServiceStack/Assets/master/img/release-notes/metadata-swagger-api.png" target="_blank"><img src="https://raw.githubusercontent.com/ServiceStack/Assets/master/img/release-notes/metadata-swagger-api.png" alt="Metadata Detail Page" style="max-width:100%;"></a></p>

<h2>
<a id="user-content-adding-links-to-metadata-page" class="anchor" href="#adding-links-to-metadata-page" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Adding Links to Metadata page</h2>

<h3>
<a id="user-content-debug-links" class="anchor" href="#debug-links" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Debug Links</h3>

<p>A good place to provide better visibility of functionality in ServiceStack is with the <strong>Plugin Links</strong> and <strong>Debug Info</strong> links section to the <code>/metadata</code> page which add links to any Plugins with Web UI's, e.g:</p>

<p><a href="https://raw.githubusercontent.com/ServiceStack/Assets/master/img/release-notes/debug-links.png" target="_blank"><img src="https://raw.githubusercontent.com/ServiceStack/Assets/master/img/release-notes/debug-links.png" alt="Debug Info Links" style="max-width:100%;"></a></p>

<p>The Debug Links section is only available in <strong>DebugMode</strong> (recap: set by default in Debug builds or explicitly with <code>Config.DebugMode = true</code>). In addition, users with the <strong>Admin</strong> role (or if <code>Config.AdminAuthSecret</code> is enabled) can also view the debug Plugins UI's in production.</p>

<p>You can add links to your own <a href="https://github.com/ServiceStack/ServiceStack/wiki/Plugins">Plugins</a> in the metadata pages with:</p>

<div class="highlight highlight-source-cs"><pre>appHost.GetPlugin&lt;MetadataFeature&gt;()
    .AddPluginLink(<span class="pl-s"><span class="pl-pds">"</span>swagger-ui/<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Swagger UI<span class="pl-pds">"</span></span>);
appHost.GetPlugin&lt;MetadataFeature&gt;()
    .AddDebugLink(<span class="pl-s"><span class="pl-pds">"</span>?debug=requestinfo<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Request Info<span class="pl-pds">"</span></span>);</pre></div>

<p><code>AddPluginLink</code> adds links under the <strong>Plugin Links</strong> section and should be used if your plugin is publicly visible, otherwise use <code>AddDebugLink</code> for plugins only available during debugging or development.</p>

<h2>
<a id="user-content-metadata-page-filters" class="anchor" href="#metadata-page-filters" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Metadata Page Filters</h2>

<p>Use the <code>IndexPageFilter</code> and <code>DetailPageFilter</code> on the <code>MetadataFeature</code> plugin to customize the Master and detail metadata pages before they're rendered. E.g. you can reverse the order of operation names with:</p>

<div class="highlight highlight-source-cs"><pre><span class="pl-k">var</span> metadata = appHost.GetPlugin&lt;MetadataFeature&gt;();
metadata.IndexPageFilter = page =&gt; {
    page.OperationNames.Sort((x,y) =&gt; y.CompareTo(x));
};</pre></div>

<h2>
<a id="user-content-updating-html-and-metadata-page-templates" class="anchor" href="#updating-html-and-metadata-page-templates" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Updating HTML and Metadata Page Templates</h2>

<p>The HTML templates for the metadata pages are maintained as <a href="https://github.com/ServiceStack/ServiceStack/tree/master/src/ServiceStack/Templates">embedded html template resources</a>. </p>

<p>The VFS lets you replace built-in ServiceStack templates with your own by simply copying the metadata or <a href="http://bit.ly/164YbrQ">HtmlFormat Template files</a> you want to customize and placing them in your Website Directory at:</p>

<pre><code>/Templates/HtmlFormat.html        // The auto HtmlFormat template
/Templates/IndexOperations.html   // The /metadata template
/Templates/OperationControl.html  // Individual operation template
</code></pre>

<p>Which you can customize locally that ServiceStack will pick up and use instead.</p>

<h2>
<a id="user-content-how-to-disable-the-metadata-page" class="anchor" href="#how-to-disable-the-metadata-page" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>How to disable the metadata page?</h2>

<p>The metadata page is a feature and can be removed by setting:</p>

<div class="highlight highlight-source-cs"><pre>SetConfig(<span class="pl-k">new</span> HostConfig { 
    EnableFeatures = Feature.All.Remove(Feature.Metadata)
});</pre></div>

<hr>

<p>This can be extended to disable as many selected features are required, e.g. to also disable SOAP support you can combine with:</p>

<div class="highlight highlight-source-cs"><pre>SetConfig(<span class="pl-k">new</span> HostConfig { 
    EnableFeatures = Feature.All.Remove(
        Feature.Metadata | Feature.Soap11 | Feature.Soap12)
});</pre></div>

<h2>
<a id="user-content-matching-requests-with-their-response-dtos" class="anchor" href="#matching-requests-with-their-response-dtos" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Matching Requests with their Response DTOs</h2>

<p>There are a number of different ways to match Requests with their Response DTO's for use in metadata services:</p>

<h3>
<a id="user-content-ireturn-marker-interface" class="anchor" href="#ireturn-marker-interface" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>IReturn Marker Interface</h3>

<p>The recommended way to associate Request with their Response DTO's is to annotate the Request DTO with an <code>IReturn&lt;T&gt;</code> marker, e.g:</p>

<div class="highlight highlight-source-cs"><pre><span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-en">Hello</span> : <span class="pl-k">IReturn</span>&lt;<span class="pl-k">GreetingResponse</span>&gt; { ... }

<span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-en">GreetingResponse</span> { ... }</pre></div>

<p>This also has the primary benefit of enabling a terse and typed generic Client API as the Response type is captured in the Request DTO:</p>

<div class="highlight highlight-source-cs"><pre>GreetingResponse = client.Get(<span class="pl-k">new</span> Hello { ... });</pre></div>

<p>Without the <code>IReturn&lt;T&gt;</code> marker the Response DTO would need to be specified on all call-sites, e.g:</p>

<div class="highlight highlight-source-cs"><pre>GreetingResponse = client.Get&lt;GreetingResponse&gt;(<span class="pl-k">new</span> Hello { ... });</pre></div>

<h3>
<a id="user-content-response-type-naming-convention" class="anchor" href="#response-type-naming-convention" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Response Type Naming Convention</h3>

<p>An alternative way to specify the Response Type is to use the built-in naming convention:</p>

<pre><code>{Request DTO Name} + Response
</code></pre>

<p>Where the Response DTO adds a <code>Response</code> suffix to the Request DTO, e.g:</p>

<div class="highlight highlight-source-cs"><pre><span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-en">Hello</span> { ... }

<span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-en">HelloResponse</span> { ... }</pre></div>

<h3>
<a id="user-content-service-response-type" class="anchor" href="#service-response-type" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Service Response Type</h3>

<p>You can also specify the Response Type by specifying it on the Services method signature, e.g:</p>

<div class="highlight highlight-source-cs"><pre><span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-en">MyServices</span> : <span class="pl-k">Service</span>
{
    <span class="pl-k">public</span> GreetingResponse <span class="pl-en">Get</span>(<span class="pl-k">Hello</span> <span class="pl-smi">request</span>} { ... }
}</pre></div>

<h2>
<a id="user-content-auth-info-in-metadata-pages" class="anchor" href="#auth-info-in-metadata-pages" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Auth Info in <a href="https://github.com/ServiceStack/ServiceStack/wiki/Metadata-page">Metadata Pages</a>
</h2>

<p>The Metadata pages also label protected Services. On the metadata index page it displays a yellow key next to
each Service requiring Authentication:</p>

<p><a href="https://raw.githubusercontent.com/ServiceStack/Assets/master/img/release-notes/metadata-auth-summary.png" target="_blank"><img src="https://raw.githubusercontent.com/ServiceStack/Assets/master/img/release-notes/metadata-auth-summary.png" alt="" style="max-width:100%;"></a></p>

<p>Hovering over the key will show which also permissions or roles the Service needs.</p>

<p>This information is also shown the metadata detail pages which will list which permissions/roles are required (if any), e.g:</p>

<p><a href="https://raw.githubusercontent.com/ServiceStack/Assets/master/img/release-notes/metadata-auth.png" target="_blank"><img src="https://raw.githubusercontent.com/ServiceStack/Assets/master/img/release-notes/metadata-auth.png" alt="" style="max-width:100%;"></a></p>
