<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link rel="shortcut icon" type="image/png" href="/images/favicon.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/css/bootstrap.min.css">
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css">
    <link rel="stylesheet" href="/css/github-markdown.css">
    <link rel="stylesheet" href="/css/simple-sidebar.css">
    <link rel="stylesheet" href="/css/style.css">
    <script src="/js/polyfill.js"></script>
</head>
<body>
<div id="wrapper">

    <!-- Sidebar -->
    <div id="sidebar-wrapper" class="sidebar-nav">
        <i id="menu-toggle" class="fa fa-angle-up" aria-hidden="true" style="display:none"></i>
        <h2>
            <a href="/">ServiceStack Docs</a>
        </h2>
        {% capture my-include %}{% include Side-Bar.md %}{% endcapture %}
        {{ my-include | markdownify }}
    </div>
    <!-- /#sidebar-wrapper -->

    <!-- Page Content -->
    <div id="page-content-wrapper">
        <div class="container-fluid">
            <div class="row">
                <div class="col-lg-12 markdown-body">
                    <a class="pull-right" href="https://github.com/ServiceStack/docs/tree/master/docs/{{ page.path }}" target="_blank"><span class="fa fa-github"></span> Edit on GitHub</a>
                    <h1>{{page.title}}</h1>

                    {{content}}
                </div>
            </div>
        </div>
    </div>
    <!-- /#page-content-wrapper -->
</div>
<!-- /#wrapper -->

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<!-- Menu Toggle Script -->
<script>
    $("#menu-toggle").click(function (e) {
        e.preventDefault();
        $("#wrapper").toggleClass("toggled");
    });
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/js/bootstrap.min.js"></script>
<script src="/js/fuzzy.js"></script>
{% if jekyll.environment == 'production' %}
<script>
    (function (i, s, o, g, r, a, m) {
        i["GoogleAnalyticsObject"] = r;
        i[r] = i[r] || function () {
                    (i[r].q = i[r].q || []).push(arguments)
                }, i[r].l = 1 * new Date();
        a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
    })(window, document, "script", "//www.google-analytics.com/analytics.js", "ga");
    ga("create", "{{ site.google_analytics_key }}", "auto");
    ga("send", "pageview");
</script>
{% endif %}
<script src="/js/fix-double-bracket-links.js"></script>
<script>
    // Use slug ids to fix links.
    // This is so relative links can be done by:
    // [my link to internal page](?id=slug)
    var docSlugMapping = {};
    var releaseSlugMapping = {};
    {% for doc in site.documentation %}docSlugMapping['{{doc.slug}}'] = '{{doc.url}}';{% endfor %}
    {% for doc in site.releases %}releaseSlugMapping['{{doc.slug}}'] = '{{doc.url}}';{% endfor %}

    $("a[href^='?id=']").attr('href', function () {
        var slugId = this.search.substr(4);
        if(slugId) {
            slugId = slugId.toLocaleLowerCase().replaceAll(' ','-');
        }
        if(docSlugMapping[slugId])
            this.href = this.hash.length > 0 ? docSlugMapping[slugId] + this.hash : docSlugMapping[slugId];
        else if(releaseSlugMapping[slugId])
            this.href = this.hash.length > 0 ? releaseSlugMapping[slugId] + this.hash : releaseSlugMapping[slugId];
        else
            console.log('Slug ID not found - ' + slugId)
    });

    // Add .active class to active link + scroll into view
    var pathinfo = location.pathname + location.hash;
    if (pathinfo != "/")
    {
        var scrollItem = $("#sidebar-wrapper").find("a[href='" + pathinfo + "']")
                .addClass('active')
                .parents().filter("div>ul>li")[0];
        if(scrollItem)
            scrollItem.scrollIntoView({
                behavior: "smooth",
                block: "start"
            });
    }

    // Add external link icon next to external menu links
    $(".sidebar-nav a[href^=http]")
        .append('<i class="fa fa-external-link" style="margin-left:-15px"></i>');

    $("#menu-toggle").click(function(){
        $(this).toggleClass("fa-angle-down");
        $("#wrapper").toggleClass("menu-collapsed");
    });

</script>
</body>
</html>
